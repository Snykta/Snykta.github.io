[{"title":"Redissonå®ç°è®¢å•è¶…æ—¶è‡ªåŠ¨å…³é—­(é«˜å¯ç”¨)","url":"/archives/86.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2020/04/545024470.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è‰ºæœ¯æ¥æºäºç”Ÿæ´»ï¼ŒæŠ€æœ¯æ¥æºäºä¸šåŠ¡ï¼Œç”±äºåŸä¸šåŠ¡ä¸Šçš„éœ€æ±‚ï¼Œéœ€è¦åšä¸€ä¸ªç”¨æˆ·ä¸‹å•åè¶…è¿‡ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¯ä»˜è‡ªåŠ¨å–æ¶ˆè®¢å•ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªè¶…æ—¶è‡ªåŠ¨å–æ¶ˆçš„åŠŸèƒ½ï¼Œè¿™ç§åœºæ™¯ææ€•æ˜¯éå¸¸éå¸¸å¸¸è§çš„ä¸€ä¸ªä¸šåŠ¡éœ€æ±‚äº†ï¼Œåœ¨æ­¤è®°å½•ä¸‹ä½¿ç”¨redisæ¥å®ç°æ­¤åŠŸèƒ½ã€‚</p>\n<h2 id=\"ä¸šåŠ¡åˆ†æ\"><a href=\"#ä¸šåŠ¡åˆ†æ\" class=\"headerlink\" title=\"ä¸šåŠ¡åˆ†æ\"></a>ä¸šåŠ¡åˆ†æ</h2><p>å½“äº§å“ç»ç†è¯´åˆ°è¶…æ—¶å–æ¶ˆæ—¶ï¼Œç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯å»¶è¿Ÿé˜Ÿåˆ—ï¼Œå¸‚é¢ä¸Šä¹Ÿæœ‰å¾ˆå¤šå¸¸è§çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä¾‹å¦‚ï¼šRabbitMQï¼ŒRocketMQï¼ŒActiveMQï¼ŒKafkaï¼ŒRedisï¼ŒZeroMQç­‰ç­‰ï¼Œéƒ½å¯ä»¥å®ç°æ­¤åŠŸèƒ½ï¼Œè™½ç„¶è½®å­ä¸æ–­é€ ï¼Œä½†åˆé€‚è‡ªå·±çš„æ‰æ˜¯æœ€å¥½çš„ã€‚</p>\n<h2 id=\"æŠ€æœ¯é€‰å‹\"><a href=\"#æŠ€æœ¯é€‰å‹\" class=\"headerlink\" title=\"æŠ€æœ¯é€‰å‹\"></a>æŠ€æœ¯é€‰å‹</h2><p>1ã€RabbitMQï¼šä¸€å¼€å§‹é€‰ä¸­çš„å°±æ˜¯å®ƒï¼Œå®ƒæœ‰ä¸€ä¸ªå®ç°å»¶è¿Ÿé˜Ÿåˆ—çš„æ’ä»¶ï¼Œæ­£å¥½ç¬¦åˆè¦æ±‚ï¼Œä½†åæ¥å’ŒæŠ€æœ¯ç»ç†æ²Ÿé€šä¸‹ï¼Œç”±äºè‡ªèº«æœåŠ¡æ¶æ„æ¥è¯´ï¼Œæ­¤æ–¹æ³•æœ€ç»ˆè¢«çŸ³æ²‰å¤§æµ·äº†ï¼Œæ­¤æ–¹æ¡ˆè¢«passæ‰ã€‚</p>\n<p>2ã€Redisï¼šç¬¬äºŒä¸ªæ–¹æ¡ˆæ˜¯åŸºäºRedisï¼Œä½¿ç”¨Redisçš„keyè¿‡æœŸé€šçŸ¥ï¼Œåœ¨æœåŠ¡ç«¯æ•è·è¿™ä¸ªå¤±æ•ˆé€šçŸ¥æ¥å¤„ç†ä¸šåŠ¡ï¼Œä¸€å¼€å§‹æ˜¯å¯è¡Œçš„ï¼Œä½†åæ¥è€ƒè™‘åˆ°é«˜å¯ç”¨ï¼Œè€Œä¸”å½“æ¥æ”¶é€šçŸ¥çš„æœåŠ¡å®•æœºæ—¶ï¼Œå°±ä¼šå‡ºç°æ‰å•ï¼Œä¸¢å¤±æ¶ˆæ¯çš„æƒ…å†µï¼Œäºæ˜¯æ­¤æ–¹æ³•ä¹Ÿè¢«Passæ‰ã€‚</p>\n<p>3ã€Redis+Redissonï¼šç»è¿‡å‡ æ¬¡è€ƒè™‘ä¸æµ‹è¯•åï¼Œæœ€ç»ˆä½¿ç”¨äº†æ­¤æŠ€æœ¯æ¥å®ç°è¶…æ—¶è®¢å•å–æ¶ˆçš„åŠŸèƒ½å¼€å‘ã€‚</p>\n<h2 id=\"æŠ€æœ¯ä»‹ç»\"><a href=\"#æŠ€æœ¯ä»‹ç»\" class=\"headerlink\" title=\"æŠ€æœ¯ä»‹ç»\"></a>æŠ€æœ¯ä»‹ç»</h2><blockquote>\n<p>Redissonï¼šRedissonåœ¨åŸºäºNIOçš„Nettyæ¡†æ¶ä¸Šï¼Œå……åˆ†çš„åˆ©ç”¨äº†Redisé”®å€¼æ•°æ®åº“æä¾›çš„ä¸€ç³»åˆ—ä¼˜åŠ¿ï¼Œåœ¨Javaå®ç”¨å·¥å…·åŒ…ä¸­å¸¸ç”¨æ¥å£çš„åŸºç¡€ä¸Šï¼Œä¸ºä½¿ç”¨è€…æä¾›äº†ä¸€ç³»åˆ—å…·æœ‰åˆ†å¸ƒå¼ç‰¹æ€§çš„å¸¸ç”¨å·¥å…·ç±»ã€‚ä½¿å¾—åŸæœ¬ä½œä¸ºåè°ƒå•æœºå¤šçº¿ç¨‹å¹¶å‘ç¨‹åºçš„å·¥å…·åŒ…è·å¾—äº†åè°ƒåˆ†å¸ƒå¼å¤šæœºå¤šçº¿ç¨‹å¹¶å‘ç³»ç»Ÿçš„èƒ½åŠ›ï¼Œå¤§å¤§é™ä½äº†è®¾è®¡å’Œç ”å‘å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„éš¾åº¦ã€‚åŒæ—¶ç»“åˆå„å¯Œç‰¹è‰²çš„åˆ†å¸ƒå¼æœåŠ¡ï¼Œæ›´è¿›ä¸€æ­¥ç®€åŒ–äº†åˆ†å¸ƒå¼ç¯å¢ƒä¸­ç¨‹åºç›¸äº’ä¹‹é—´çš„åä½œã€‚</p>\n</blockquote>\n<p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href=\"https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95\">https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95</a></p>\n<h2 id=\"ä»£ç ç¤ºä¾‹\"><a href=\"#ä»£ç ç¤ºä¾‹\" class=\"headerlink\" title=\"ä»£ç ç¤ºä¾‹\"></a>ä»£ç ç¤ºä¾‹</h2><p><strong>pom.xmlä¾èµ–</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.redisson<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>redisson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.12.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Redissonçš„é…ç½®ç±»ï¼š</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedisQueueConfig</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è¿æ¥redisçš„åœ°å€</span></span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;spring.redis.host&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String host;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//redisçš„ç«¯å£å·</span></span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;spring.redis.port&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String port;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//redisçš„å¯†ç </span></span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;spring.redis.password&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> RedissonClient <span class=\"title\">redissonClient</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">//æ­¤å¤„ä¸ºå•æœºé…ç½®ï¼Œé«˜å¯ç”¨é…ç½®è¯·å¾€ä¸‹çœ‹</span></span><br><span class=\"line\">        Config config = <span class=\"keyword\">new</span> Config();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (password.equals(<span class=\"string\">&quot;&quot;</span>))&#123;</span><br><span class=\"line\">            config.setCodec(<span class=\"keyword\">new</span> org.redisson.client.codec.StringCodec());</span><br><span class=\"line\">            config.useSingleServer().setAddress(<span class=\"string\">&quot;redis://&quot;</span> + host + <span class=\"string\">&quot;:&quot;</span> + port).setDatabase(<span class=\"number\">2</span>).setTimeout(<span class=\"number\">5000</span>);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            config.useSingleServer().setAddress(<span class=\"string\">&quot;redis://&quot;</span> + host + <span class=\"string\">&quot;:&quot;</span> + port).setPassword(password).setDatabase(<span class=\"number\">2</span>).setTimeout(<span class=\"number\">5000</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Redisson.create(config);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¼ªä¸‹å•ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestController</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> RedissonClient redissonClient;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">TestController</span><span class=\"params\">(RedissonClient redissonClient)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.redissonClient = redissonClient;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">hello</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * ç›®æ ‡é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        RBlockingQueue&lt;String&gt; blockingRedPacketQueue</span><br><span class=\"line\">                = redissonClient.getBlockingQueue(<span class=\"string\">&quot;userOrderKey&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * å®šæ—¶ä»»åŠ¡å°†åˆ°æœŸçš„å…ƒç´ è½¬ç§»åˆ°ç›®æ ‡é˜Ÿåˆ—</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        RDelayedQueue&lt;String&gt; delayedRedPacketQueue</span><br><span class=\"line\">                = redissonClient.getDelayedQueue(blockingRedPacketQueue);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 123456ä»£è¡¨è®¢å•å·ï¼Œæ”¾å…¥é˜Ÿåˆ—ä¸­</span></span><br><span class=\"line\"><span class=\"comment\">         * è®¾ç½®10ç§’ååˆ°æœŸ</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        delayedRedPacketQueue.offer(<span class=\"string\">&quot;123456&quot;</span>, <span class=\"number\">10</span>, TimeUnit.SECONDS);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;OK&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p><strong>å¤„ç†è¶…æ—¶è®¢å•ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AutoStart</span> <span class=\"keyword\">implements</span> <span class=\"title\">CommandLineRunner</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Logger LOGGER = LoggerFactory.getLogger(AutoStart.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> RedissonClient redissonClient;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">(String... args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        RBlockingQueue&lt;String&gt; blockingRedPacketQueue</span><br><span class=\"line\">                = redissonClient.getBlockingQueue(<span class=\"string\">&quot;userOrderKey&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        RDelayedQueue&lt;String&gt; delayedRedPacketQueue</span><br><span class=\"line\">                = redissonClient.getDelayedQueue(blockingRedPacketQueue);</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">             * å¦‚æœå½“å‰æ²¡æœ‰å¤±æ•ˆçš„è®¢å•ï¼Œåˆ™æ­¤å¾ªç¯ä¼šæš‚æ—¶é˜»å¡</span></span><br><span class=\"line\"><span class=\"comment\">             * å–å‡ºè¶…æ—¶è®¢å•ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"comment\">             */</span></span><br><span class=\"line\">            String redPacket = blockingRedPacketQueue.take();</span><br><span class=\"line\">            LOGGER.info(<span class=\"string\">&quot;è®¢å•å·:&#123;&#125;è¿‡æœŸå¤±æ•ˆ&quot;</span>,redPacket);</span><br><span class=\"line\">            <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">             * å¤„ç†ç›¸å…³ä¸šåŠ¡é€»è¾‘</span></span><br><span class=\"line\"><span class=\"comment\">             */</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é«˜å¯ç”¨é…ç½®\"><a href=\"#é«˜å¯ç”¨é…ç½®\" class=\"headerlink\" title=\"é«˜å¯ç”¨é…ç½®\"></a>é«˜å¯ç”¨é…ç½®</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ä¸»ä»éƒ¨ç½²æ–¹å¼</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">Config config = <span class=\"keyword\">new</span> Config();</span><br><span class=\"line\">config.useMasterSlaveServers()</span><br><span class=\"line\">        <span class=\"comment\">//è®¾ç½®redisä¸»èŠ‚ç‚¹</span></span><br><span class=\"line\">        .setMasterAddress(<span class=\"string\">&quot;redis://127.0.0.1:6379&quot;</span>)</span><br><span class=\"line\">        <span class=\"comment\">//è®¾ç½®redisä»èŠ‚ç‚¹</span></span><br><span class=\"line\">        .addSlaveAddress(<span class=\"string\">&quot;redis://127.0.0.2:6379&quot;</span>, <span class=\"string\">&quot;redis://127.0.0.3:6379&quot;</span>);</span><br><span class=\"line\">RedissonClient redisson = Redisson.create(config);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * é›†ç¾¤éƒ¨ç½²æ–¹å¼</span></span><br><span class=\"line\"><span class=\"comment\"> * clusteræ–¹å¼è‡³å°‘6ä¸ªèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\"> * 3ä¸»3ä»ï¼Œ3ä¸»åšshardingï¼Œ3ä»ç”¨æ¥ä¿è¯ä¸»å®•æœºåå¯ä»¥é«˜å¯ç”¨</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">Config config = <span class=\"keyword\">new</span> Config();</span><br><span class=\"line\">config.useClusterServers()</span><br><span class=\"line\">        .setScanInterval(<span class=\"number\">2000</span>)<span class=\"comment\">//é›†ç¾¤çŠ¶æ€æ‰«æé—´éš”æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’</span></span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.1:6379&quot;</span>)</span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.2:6379&quot;</span>)</span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.3:6379&quot;</span>)</span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.4:6379&quot;</span>)</span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.5:6379&quot;</span>)</span><br><span class=\"line\">        .addNodeAddress(<span class=\"string\">&quot;redis://127.0.0.6:6379&quot;</span>);</span><br><span class=\"line\">RedissonClient redissonClient = Redisson.create(config);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * å“¨å…µéƒ¨ç½²æ–¹å¼</span></span><br><span class=\"line\"><span class=\"comment\"> * sentinelæ˜¯é‡‡ç”¨ Paxosæ‹œå åº­åè®®ï¼Œä¸€èˆ¬sentinelè‡³å°‘3ä¸ªèŠ‚ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">Config config = <span class=\"keyword\">new</span> Config();</span><br><span class=\"line\">config.useSentinelServers()</span><br><span class=\"line\">        .setMasterName(<span class=\"string\">&quot;my-sentinel-name&quot;</span>)</span><br><span class=\"line\">        .addSentinelAddress(<span class=\"string\">&quot;redis://127.0.0.1:6379&quot;</span>)</span><br><span class=\"line\">        .addSentinelAddress(<span class=\"string\">&quot;redis://127.0.0.2:6379&quot;</span>)</span><br><span class=\"line\">        .addSentinelAddress(<span class=\"string\">&quot;redis://127.0.0.3:6379&quot;</span>);</span><br><span class=\"line\">RedissonClient redisson = Redisson.create(config);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è¿è¡Œæˆªå›¾\"><a href=\"#è¿è¡Œæˆªå›¾\" class=\"headerlink\" title=\"è¿è¡Œæˆªå›¾\"></a>è¿è¡Œæˆªå›¾</h2><p>è®¿é—®helloæ¥å£åï¼Œç­‰å¾…10ç§’ï¼Œæ§åˆ¶å°è¿”å›å¦‚ä¸‹</p>\n<p><img src=\"https://image.charones.com/usr/uploads/2020/10/4118908773.png\"></p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>è¿˜æ˜¯é‚£å¥è¯ï¼ŒæŠ€æœ¯ç±»å‹è¶Šæ¥è¶Šå¤šï¼Œè½®å­ä¸åœé€ ï¼Œé€‰å¯¹æŠ€æœ¯åˆé€‚è‡ªå·±ä¸šåŠ¡çš„æ‰æ˜¯æœ€å¥½çš„ï¼Œæ— è®ºæ˜¯JDKå†…ç½®çš„å»¶è¿Ÿé˜Ÿåˆ—è¿˜æ˜¯åŸºäºæ—¶é—´è½®ç®—æ³•çš„é˜Ÿåˆ—ï¼Œéƒ½æ— æ³•ä¿è¯ç”Ÿäº§ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ï¼Œè€ŒRedissonå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>\n","categories":["Redisson"],"tags":["SpringBoot","Redis","Redisson"]},{"title":"Dockerå®‰è£…Mysqlå¹¶æŒ‚è½½ç›®å½•åè¿è¡Œ","url":"/archives/104.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2020/10/3405473456.png\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è®°ä¸€æ¬¡MySqlæ•°æ®åº“è¯»å†™åˆ†ç¦»çš„çš„åŠŸèƒ½ï¼Œå…¶ä¸­é‡Œé¢æ¶‰åŠåˆ°äº†æ•°æ®åº“çš„ä¸»ä»å¤åˆ¶ï¼Œå¹¶ä¸”æ˜¯åœ¨Dockerä¸­çš„è¿è¡Œçš„MySqlå®ä¾‹ï¼Œäºæ˜¯ä¹å°±å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œè®°å½•åœ¨Dockerä¸­å®‰è£…MySqlçš„æ­¥éª¤ã€‚</p>\n<h2 id=\"ä¸€ã€æ‹‰å–é•œåƒ\"><a href=\"#ä¸€ã€æ‹‰å–é•œåƒ\" class=\"headerlink\" title=\"ä¸€ã€æ‹‰å–é•œåƒ\"></a>ä¸€ã€æ‹‰å–é•œåƒ</h2><p>1ã€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ‹‰å–é•œåƒï¼š<br>æœ¬æ¬¡ä½¿ç”¨çš„ç‰ˆæœ¬å·æ˜¯8.0.18</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker pull mysql:8.0.18</span><br></pre></td></tr></table></figure>\n<p><strong>æç¤ºï¼š</strong>è®°å¾—é…ç½®é•œåƒåŠ é€Ÿå™¨ï¼Œå¦åˆ™æ‹‰å–é•œåƒå°†éå¸¸æ…¢ï¼ŒåŸå› ä½ æ‡‚çš„ã€‚</p>\n<p>2ã€æŸ¥çœ‹é•œåƒæ˜¯å¦å­˜åœ¨ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"äºŒã€é…ç½®å¹¶è¿è¡Œå®¹å™¨\"><a href=\"#äºŒã€é…ç½®å¹¶è¿è¡Œå®¹å™¨\" class=\"headerlink\" title=\"äºŒã€é…ç½®å¹¶è¿è¡Œå®¹å™¨\"></a>äºŒã€é…ç½®å¹¶è¿è¡Œå®¹å™¨</h2><p>1ã€è¿è¡Œå®¹å™¨ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker run -d -p 3308:3306 --name mysql-server-01 -e MYSQL_ROOT_PASSWORD=&quot;123456&quot; mysql:8.0.18</span><br></pre></td></tr></table></figure>\n<p>2ã€æŸ¥çœ‹æ˜¯å¦è¿è¡ŒæˆåŠŸ</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<p>å¦‚å›¾æ‰€ç¤ºåˆ™æˆåŠŸï¼š<br><img src=\"https://image.charones.com/usr/uploads/2020/10/2194755708.png\"></p>\n<p>3ã€è¿›å…¥å®¹å™¨ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker exec -it mysql-server-01 bash</span><br></pre></td></tr></table></figure>\n<p><strong>æç¤ºï¼š</strong>mysql-server-01å°±æ˜¯è¿è¡Œæ—¶è®¾ç½®çš„å®¹å™¨åç§°</p>\n<p>4ã€æŸ¥çœ‹å®¹å™¨å†…mysqlé…ç½®æ–‡ä»¶è·¯å¾„</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mysql --help | grep my.cnf</span><br></pre></td></tr></table></figure>\n<p>å¦‚å›¾ï¼š<img src=\"https://image.charones.com/usr/uploads/2020/10/1746848017.png\"></p>\n<p>5ã€å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°å®¿ä¸»æœºç›®å½•<br>æ‰¾åˆ°å®¹å™¨è·¯å¾„åï¼Œé€€å‡ºå®¹å™¨(ctrl+d)ï¼Œåœ¨<strong>å®¿ä¸»æœº</strong>ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker cp mysql-server-01:/etc/mysql/my.cnf /mydocker/mysql-server-docker/mysql-01/conf</span><br></pre></td></tr></table></figure>\n<p><strong>æç¤ºï¼š</strong>å®¿ä¸»æœºè·¯å¾„ä½ç½®ä¸€å®šè¦åˆ›å»ºå¥½</p>\n<p>6ã€é‡æ–°è¿è¡Œå®¹å™¨<br>é…ç½®å¥½é…ç½®æ–‡ä»¶åï¼Œé‡æ–°è¿è¡Œå®¹å™¨ï¼Œå°†å®¹å™¨çš„é…ç½®æ–‡ä»¶æŒ‡å‘å®¿ä¸»æœºçš„é…ç½®æ–‡ä»¶<br>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker run --restart=always --privileged=true -d -v /mydocker/mysql-server-docker/mysql-01/data/:/var/lib/mysql -v /mydocker/mysql-server-docker/mysql-01/conf/my.cnf:/etc/mysql/my.cnf -p 3308:3306 --name mysql-server-01 -e MYSQL_ROOT_PASSWORD=&quot;123456&quot; mysql:8.0.18</span><br></pre></td></tr></table></figure>\n<p><strong>æç¤ºï¼š</strong>è¿è¡Œæ–°å®¹å™¨æ—¶è®°å¾—åˆ é™¤å°±å®¹å™¨ï¼Œæˆ–è€…ä¸åˆ é™¤ï¼Œä½†å®¹å™¨åå­—ä¸èƒ½ç›¸åŒï¼Œç«¯å£å·ä¸èƒ½è¢«å ç”¨ï¼ï¼</p>\n<h2 id=\"ä¸‰ã€æµ‹è¯•è¿æ¥\"><a href=\"#ä¸‰ã€æµ‹è¯•è¿æ¥\" class=\"headerlink\" title=\"ä¸‰ã€æµ‹è¯•è¿æ¥\"></a>ä¸‰ã€æµ‹è¯•è¿æ¥</h2><p>1ã€è¿›è¡Œå®¹å™¨ï¼Œå¼€å¯è¿œç¨‹è®¿é—®<br>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿æ¥mysqlï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">mysql -uroot -p123456</span><br></pre></td></tr></table></figure>\n\n<p>2ã€è¿›å…¥åå­—ä¸ºmysqlçš„åº“</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">use mysql</span><br></pre></td></tr></table></figure>\n<p>3ã€é…ç½®è¿œç¨‹è®¿é—®</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">UPDATE user SET `Host` = &#x27;%&#x27; WHERE `User` = &#x27;root&#x27; LIMIT 1;</span><br></pre></td></tr></table></figure>\n<p>4ã€åˆ·æ–°ç”Ÿæ•ˆ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">flush privileges;</span><br></pre></td></tr></table></figure>\n<p>5ã€è¿æ¥æˆåŠŸ<br><img src=\"https://image.charones.com/usr/uploads/2020/10/3462937496.png\"></p>\n<h2 id=\"å››ã€æ€»ç»“\"><a href=\"#å››ã€æ€»ç»“\" class=\"headerlink\" title=\"å››ã€æ€»ç»“\"></a>å››ã€æ€»ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯åœ¨Dockerä¸­å®‰è£…MySqlçš„æ­¥éª¤ï¼Œå¯ä»¥é…ç½®é›†ç¾¤ï¼Œä¸»ä»å¤åˆ¶ç­‰ï¼Œå¦‚æœæµ‹è¯•è¿æ¥ä¸ä¸Šï¼Œå¯ä»¥æ£€æŸ¥ä»¥ä¸‹ï¼šç«¯å£æ˜¯å¦å¼€æ”¾ï¼Œç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œæ˜ å°„æ˜¯å¦æˆåŠŸï¼Œå®¹å™¨æ˜¯å¦è¿è¡Œï¼Œå®‰å…¨ç»„æˆ–è€…é˜²ç«å¢™æ˜¯å¦æ‰“å¼€ç­‰è¿™å‡ å¤„æ¥æ£€æµ‹ã€‚</p>\n","categories":["Docker","MySql"],"tags":["Docker","MySql"]},{"title":"MySqlæ•°æ®åº“å®ç°ä¸»ä»å¤åˆ¶","url":"/archives/101.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2020/10/2151511063.png\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"ç®€ä»‹\"><a href=\"#ç®€ä»‹\" class=\"headerlink\" title=\"ç®€ä»‹\"></a>ç®€ä»‹</h2><blockquote>\n<p>æ•°æ®åº“çš„ä¸»ä»å¤åˆ¶åˆå¯ç§°ä¸ºä¸»ä»åŒæ­¥ï¼ŒæŒ‡ä¸€å°æœåŠ¡å™¨å……å½“ä¸»æ•°æ®åº“æœåŠ¡å™¨ï¼Œå¦ä¸€å°æˆ–å¤šå°æœåŠ¡å™¨å……å½“ä»æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸»æœåŠ¡å™¨ä¸­çš„æ•°æ®è‡ªåŠ¨å¤åˆ¶åˆ°ä»æœåŠ¡å™¨ä¹‹ä¸­ã€‚å¯¹äºå¤šçº§å¤åˆ¶ï¼Œæ•°æ®åº“æœåŠ¡å™¨å³å¯å……å½“ä¸»æœºï¼Œä¹Ÿå¯å……å½“ä»æœºã€‚MySQLä¸»ä»å¤åˆ¶çš„åŸºç¡€æ˜¯ä¸»æœåŠ¡å™¨å¯¹æ•°æ®åº“ä¿®æ”¹è®°å½•äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä»æœåŠ¡å™¨é€šè¿‡ä¸»æœåŠ¡å™¨çš„äºŒè¿›åˆ¶æ—¥å¿—è‡ªåŠ¨æ‰§è¡Œæ›´æ–°ã€‚ä¸€å¥è¯è¡¨ç¤ºå°±æ˜¯ï¼Œä¸»æ•°æ®åº“åšä»€ä¹ˆï¼Œä»æ•°æ®åº“å°±è·Ÿç€åšä»€ä¹ˆã€‚</p>\n</blockquote>\n<h2 id=\"å®ç°åŸç†\"><a href=\"#å®ç°åŸç†\" class=\"headerlink\" title=\"å®ç°åŸç†\"></a>å®ç°åŸç†</h2><p>1.Master æ•°æ®åº“åªè¦å‘ç”Ÿå˜åŒ–ï¼Œç«‹é©¬è®°å½•åˆ°Binary log æ—¥å¿—æ–‡ä»¶ä¸­<br>2.Slaveæ•°æ®åº“å¯åŠ¨ä¸€ä¸ªI/O threadè¿æ¥Masteræ•°æ®åº“ï¼Œè¯·æ±‚Masterå˜åŒ–çš„äºŒè¿›åˆ¶æ—¥å¿—<br>3.Slave I/Oè·å–åˆ°çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä¿å­˜åˆ°è‡ªå·±çš„Relay log æ—¥å¿—æ–‡ä»¶ä¸­ã€‚<br>4.Slave æœ‰ä¸€ä¸ª SQL threadå®šæ—¶æ£€æŸ¥Realy logæ˜¯å¦å˜åŒ–ï¼Œå˜åŒ–é‚£ä¹ˆå°±æ›´æ–°æ•°æ®<br><img src=\"https://image.charones.com/usr/uploads/2020/10/1832236725.png\"></p>\n<h2 id=\"ä½œç”¨\"><a href=\"#ä½œç”¨\" class=\"headerlink\" title=\"ä½œç”¨\"></a>ä½œç”¨</h2><ul>\n<li>å®ç°æœåŠ¡å™¨è´Ÿè½½å‡è¡¡</li>\n<li>é€šè¿‡å¤åˆ¶å®ç°æ•°æ®çš„å¼‚åœ°å¤‡ä»½</li>\n<li>æé«˜æ•°æ®åº“ç³»ç»Ÿçš„å¯ç”¨æ€§</li>\n<li>å®ç°ä¸šåŠ¡ä¸Šçš„è¯»å†™åˆ†ç¦»</li>\n</ul>\n<hr>\n<h2 id=\"ç¯å¢ƒå‡†å¤‡\"><a href=\"#ç¯å¢ƒå‡†å¤‡\" class=\"headerlink\" title=\"ç¯å¢ƒå‡†å¤‡\"></a>ç¯å¢ƒå‡†å¤‡</h2><p>æœ¬åœ°å®‰è£…ä¸¤ä¸ªmysqlï¼Œæˆ–è€…ä½¿ç”¨è™šæ‹Ÿæœºï¼Œæˆ–è€…ä½¿ç”¨dockerå®‰è£…ï¼Œéœ€è¦å‡†å¤‡ä¸¤ä¸ªmysqlï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯dockeræ–¹å¼å®‰è£…ã€‚<br>å…·ä½“å®‰è£…æ–¹æ³•ï¼š<a href=\"https://charones.com/archives/104.html\">https://charones.com/archives/104.html</a></p>\n<blockquote>\n<p>å®¿ä¸»æœº centos7 mysql:8.0.21<br>mysql1(master): 172.17.0.3:3308<br>mysql2(slave): 172.17.0.2:3309</p>\n</blockquote>\n<h2 id=\"ä¸»æ•°æ®åº“é…ç½®\"><a href=\"#ä¸»æ•°æ®åº“é…ç½®\" class=\"headerlink\" title=\"ä¸»æ•°æ®åº“é…ç½®\"></a>ä¸»æ•°æ®åº“é…ç½®</h2>","categories":["Docker","MySql","æœåŠ¡æ­å»º"],"tags":["Docker","MySql"]},{"title":"Python+OpenCVå®ç°å¯¹æŒ‡é’ˆå¼ä»ªè¡¨çš„è¯†åˆ«","url":"/archives/91.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2020/10/3493261755.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬æ–‡æ˜¯ä½¿ç”¨Pythonè¯­è¨€åŸºäºOpenCVå¯¹å›¾åƒè¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œä½¿å…¶è¿›è¡Œè¯†åˆ«è¾¨è®¤çš„ä¸€ä¸ª <em><strong>ä¸æˆç†Ÿ</strong></em>  çš„æ¡ˆä¾‹ä»£ç ç›¸å…³åšæ–‡ã€‚</p>\n<p>è‡³äºä¸ºä»€ä¹ˆè¯´ä¸æˆç†Ÿå‘¢ï¼Œå› ä¸ºPythonå¹¶ä¸æ˜¯åšä¸» <em>â€˜æ¯è¯­è¨€â€™</em> è¿™ä¸ªä»£ç æ¡ˆä¾‹æ¥æºäºä¸€æ¬¡å’Œç‰©è”ç½‘ç›¸å…³çš„ä¸€æ¬¡å·¥ä½œç»å†ä¸­äº§ç”Ÿçš„ï¼Œä»£ç å‚è€ƒäº†ç½‘ä¸Šçš„ä¸€äº›ä¾‹å­ï¼Œå¹¶ä»¥è‡ªå·±çš„å®é™…ä¸šåŠ¡ä¹Ÿè¿›è¡Œäº†äºŒæ¬¡å¼€å‘å’Œä¼˜åŒ–ï¼Œåœ¨æ­¤å‘é‚£äº›åˆ†äº«ä»£ç çš„å¥½å¿ƒäººè¡¨ç¤ºæ„Ÿè°¢ ğŸ˜œã€‚ </p>\n<p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> cv2</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.cluster <span class=\"keyword\">import</span> KMeans</span><br><span class=\"line\"><span class=\"keyword\">from</span> sklearn.utils <span class=\"keyword\">import</span> shuffle</span><br><span class=\"line\"><span class=\"keyword\">from</span> math <span class=\"keyword\">import</span> cos, pi, sin</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\">method = cv2.TM_CCOEFF</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\"># æ¨¡è·¯å¾„</span></span><br><span class=\"line\">TEMPLATE_FILE = os.path.dirname(os.path.dirname(__file__)) + <span class=\"string\">&quot;/static/likeImg/pointer/&quot;</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">å¯ä»¥è®¾ç½®çŸ©å½¢æ¡†</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_match_rect</span>(<span class=\"params\">template, img, method</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;è·å–æ¨¡æ¿åŒ¹é…çš„çŸ©å½¢çš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡,&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    w, h = template.shape[<span class=\"number\">1</span>], template.shape[<span class=\"number\">0</span>]</span><br><span class=\"line\">    res = cv2.matchTemplate(img, template, method)</span><br><span class=\"line\">    mn_val, max_val, min_loc, max_loc = cv2.minMaxLoc(res)</span><br><span class=\"line\">    <span class=\"comment\"># ä½¿ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œå¯¹ç»“æœçš„è§£é‡Šä¸åŒ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> method <span class=\"keyword\">in</span> [cv2.TM_SQDIFF, cv2.TM_SQDIFF_NORMED]:</span><br><span class=\"line\">        top_left = min_loc</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        top_left = max_loc</span><br><span class=\"line\">    bottom_right = (top_left[<span class=\"number\">0</span>] + w, top_left[<span class=\"number\">1</span>] + h)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> top_left, bottom_right</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_center_point</span>(<span class=\"params\">top_left, bottom_right</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;ä¼ å…¥å·¦ä¸Šè§’å’Œå³ä¸‹è§’åæ ‡ï¼Œè·å–ä¸­å¿ƒç‚¹&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    c_x, c_y = ((np.array(top_left) + np.array(bottom_right)) / <span class=\"number\">2</span>).astype(np.<span class=\"built_in\">int</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c_x, c_y</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_circle_field_color</span>(<span class=\"params\">img, center, r, thickness</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;è·å–ä¸­å¿ƒåœ†å½¢åŒºåŸŸçš„è‰²å€¼é›†&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    temp = img.copy().astype(np.<span class=\"built_in\">int</span>)</span><br><span class=\"line\">    cv2.circle(temp, center, r, -<span class=\"number\">100</span>, thickness=thickness)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> img[temp == -<span class=\"number\">100</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">v2_by_center_circle</span>(<span class=\"params\">img, colors</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;äºŒå€¼åŒ–é€šè¿‡ä¸­å¿ƒåœ†çš„é¢œè‰²é›†åˆ&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(img.shape[<span class=\"number\">0</span>]):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(img.shape[<span class=\"number\">1</span>]):</span><br><span class=\"line\">            a = img[i, j]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a <span class=\"keyword\">in</span> colors:</span><br><span class=\"line\">                img[i, j] = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                img[i, j] = <span class=\"number\">255</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">v2_by_k_means</span>(<span class=\"params\">img</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;ä½¿ç”¨k-meansäºŒå€¼åŒ–&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    original_img = np.array(img, dtype=np.float64)</span><br><span class=\"line\">    src = original_img.copy()</span><br><span class=\"line\">    delta_y = <span class=\"built_in\">int</span>(original_img.shape[<span class=\"number\">0</span>] * (<span class=\"number\">0.4</span>))</span><br><span class=\"line\">    delta_x = <span class=\"built_in\">int</span>(original_img.shape[<span class=\"number\">1</span>] * (<span class=\"number\">0.4</span>))</span><br><span class=\"line\">    original_img = original_img[delta_y:-delta_y, delta_x:-delta_x]</span><br><span class=\"line\">    h, w, d = src.shape</span><br><span class=\"line\">    dts = <span class=\"built_in\">min</span>([w, h])</span><br><span class=\"line\">    r2 = (dts / <span class=\"number\">2</span>) ** <span class=\"number\">2</span></span><br><span class=\"line\">    c_x, c_y = w / <span class=\"number\">2</span>, h / <span class=\"number\">2</span></span><br><span class=\"line\">    a: np.ndarray = original_img[:, :, <span class=\"number\">0</span>:<span class=\"number\">3</span>].astype(np.uint8)</span><br><span class=\"line\">    <span class=\"comment\"># è·å–å°ºå¯¸(å®½åº¦ã€é•¿åº¦ã€æ·±åº¦)</span></span><br><span class=\"line\">    height, width = original_img.shape[<span class=\"number\">0</span>], original_img.shape[<span class=\"number\">1</span>]</span><br><span class=\"line\">    depth = <span class=\"number\">3</span></span><br><span class=\"line\">    image_flattened = np.reshape(original_img, (width * height, depth))</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    ç”¨K-Meansç®—æ³•åœ¨é¢œè‰²æ ·æœ¬ä¸­å»ºç«‹2ä¸ªç±»ã€‚</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    image_array_sample = shuffle(image_flattened, random_state=<span class=\"number\">0</span>)</span><br><span class=\"line\">    estimator = KMeans(n_clusters=<span class=\"number\">2</span>, random_state=<span class=\"number\">0</span>)</span><br><span class=\"line\">    estimator.fit(image_array_sample)</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    æˆ‘ä»¬ä¸ºåŸå§‹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ è¿›è¡Œç±»çš„åˆ†é…ã€‚</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    src_shape = src.shape</span><br><span class=\"line\">    new_img_flattened = np.reshape(src, (src_shape[<span class=\"number\">0</span>] * src_shape[<span class=\"number\">1</span>], depth))</span><br><span class=\"line\">    cluster_assignments = estimator.predict(new_img_flattened)</span><br><span class=\"line\">    compressed_palette = estimator.cluster_centers_</span><br><span class=\"line\">    a = np.apply_along_axis(func1d=<span class=\"keyword\">lambda</span> x: np.uint8(compressed_palette[x]), arr=cluster_assignments, axis=<span class=\"number\">0</span>)</span><br><span class=\"line\">    img = a.reshape(src_shape[<span class=\"number\">0</span>], src_shape[<span class=\"number\">1</span>], depth)</span><br><span class=\"line\">    threshold = (compressed_palette[<span class=\"number\">0</span>, <span class=\"number\">0</span>] + compressed_palette[<span class=\"number\">1</span>, <span class=\"number\">0</span>]) / <span class=\"number\">2</span></span><br><span class=\"line\">    img[img[:, :, <span class=\"number\">0</span>] &gt; threshold] = <span class=\"number\">255</span></span><br><span class=\"line\">    img[img[:, :, <span class=\"number\">0</span>] &lt; threshold] = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(w):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(h):</span><br><span class=\"line\">            distance = ((x - c_x) ** <span class=\"number\">2</span> + (y - c_y) ** <span class=\"number\">2</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> distance &gt; r2:</span><br><span class=\"line\">                <span class=\"keyword\">pass</span></span><br><span class=\"line\">                img[y, x] = (<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> img</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">è®¾ç½®æŒ‡é’ˆä½ç½®</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_pointer_rad</span>(<span class=\"params\">img</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;è·å–è§’åº¦&#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    shape = img.shape</span><br><span class=\"line\">    <span class=\"comment\"># c_y, c_x, depth = int(shape[0] / 2), int(shape[1] / 2), shape[2]</span></span><br><span class=\"line\">    c_y, c_x, depth = <span class=\"number\">498</span>, <span class=\"number\">490</span>, shape[<span class=\"number\">2</span>]</span><br><span class=\"line\">    x1 = c_x + c_x * <span class=\"number\">0.8</span></span><br><span class=\"line\">    src = img.copy()</span><br><span class=\"line\">    freq_list = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">361</span>):</span><br><span class=\"line\">        x = (x1 - c_x) * cos(i * pi / <span class=\"number\">180</span>) + c_x</span><br><span class=\"line\">        y = (x1 - c_x) * sin(i * pi / <span class=\"number\">180</span>) + c_y</span><br><span class=\"line\">        temp = src.copy()</span><br><span class=\"line\">        cv2.line(temp, (c_x, c_y), (<span class=\"built_in\">int</span>(x), <span class=\"built_in\">int</span>(y)), (<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">255</span>), thickness=<span class=\"number\">3</span>)</span><br><span class=\"line\">        t1 = img.copy()</span><br><span class=\"line\">        t1[temp[:, :, <span class=\"number\">2</span>] == <span class=\"number\">255</span>] = <span class=\"number\">255</span></span><br><span class=\"line\">        c = img[temp[:, :, <span class=\"number\">2</span>] == <span class=\"number\">255</span>]</span><br><span class=\"line\">        points = c[c == <span class=\"number\">0</span>]</span><br><span class=\"line\">        freq_list.append((<span class=\"built_in\">len</span>(points), i))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(freq_list, key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">POINTER</span>(<span class=\"params\"><span class=\"built_in\">object</span></span>):</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self, path</span>):</span>  <span class=\"comment\"># æ„é€ å‡½æ•°ä¸å¸¦å‚æ•°</span></span><br><span class=\"line\">        self.path = path</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">start_get_val</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"comment\"># è·å–æµ‹è¯•å›¾åƒ</span></span><br><span class=\"line\">        img_s = cv2.imread(self.path)</span><br><span class=\"line\">        img = cv2.cvtColor(img_s, cv2.COLOR_BGR2GRAY)</span><br><span class=\"line\">        template = cv2.imread(TEMPLATE_FILE + <span class=\"string\">&#x27;template.jpg&#x27;</span>)  <span class=\"comment\"># æ¨¡æ¿</span></span><br><span class=\"line\">        template = cv2.cvtColor(template, cv2.COLOR_BGR2GRAY)</span><br><span class=\"line\">        <span class=\"comment\"># åŒ¹é…å¹¶è¿”å›çŸ©å½¢åæ ‡</span></span><br><span class=\"line\">        top_left, bottom_right = get_match_rect(template, img, method)</span><br><span class=\"line\">        cv2.rectangle(img_s, top_left, bottom_right, <span class=\"number\">255</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"comment\">#################################################################</span></span><br><span class=\"line\">        new = img_s[top_left[<span class=\"number\">1</span>]:bottom_right[<span class=\"number\">1</span>] + <span class=\"number\">1</span>, top_left[<span class=\"number\">0</span>]:bottom_right[<span class=\"number\">0</span>] + <span class=\"number\">1</span>]</span><br><span class=\"line\">        template = cv2.imread(TEMPLATE_FILE + <span class=\"string\">&#x27;template.jpg&#x27;</span>)  <span class=\"comment\"># æ¨¡æ¿</span></span><br><span class=\"line\">        top_left, bottom_right = get_match_rect(template, new, method=method)</span><br><span class=\"line\">        new_ = new[top_left[<span class=\"number\">1</span>]:bottom_right[<span class=\"number\">1</span>] + <span class=\"number\">1</span>, top_left[<span class=\"number\">0</span>]:bottom_right[<span class=\"number\">0</span>] + <span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"comment\"># äºŒå€¼åŒ–å›¾åƒ</span></span><br><span class=\"line\">        img = v2_by_k_means(new_)</span><br><span class=\"line\">        rad = get_pointer_rad(img)</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(rad)</span><br><span class=\"line\">        <span class=\"comment\">#################################################################</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> rad[<span class=\"number\">1</span>] &lt;= <span class=\"number\">180</span>:</span><br><span class=\"line\">            val = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            val = ((rad[<span class=\"number\">1</span>] - <span class=\"number\">180</span>) * <span class=\"number\">1.72</span>) + <span class=\"number\">1</span>  <span class=\"comment\"># è®¡ç®—åˆ»åº¦å€¼</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> val &lt; <span class=\"number\">100</span>:</span><br><span class=\"line\">                val = val + <span class=\"number\">3</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(val)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">round</span>(val)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    val = POINTER(<span class=\"string\">&quot;å›¾ç‰‡è·¯å¾„&quot;</span>).start_get_val()</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;åˆ»åº¦å€¼1ï¼š&quot;</span> + val)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;åˆ»åº¦å€¼2ï¼š&quot;</span> + <span class=\"built_in\">round</span>(val))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ¡ˆä¾‹ä¸­ä½¿ç”¨çš„è¡¨ç›˜å›¾ç‰‡ï¼š</p>\n<p><img src=\"https://image.charones.com/2022/202201021422150.jpg\"></p>\n<h2 id=\"ç»“æœï¼š\"><a href=\"#ç»“æœï¼š\" class=\"headerlink\" title=\"ç»“æœï¼š\"></a>ç»“æœï¼š</h2><p>ç»è¿‡å¤šæ¬¡ä¸ç”¨çš„ä»ªè¡¨ç›˜è¯†åˆ«ï¼Œå¾—å‡ºçš„æ­£ç¡®ç»“æœå·²ç»è¾¾åˆ°85%çš„å‡†ç¡®ç‡ï¼Œå½“ç„¶è¿™ä¸ªç»“æœåœ¨çœŸæ­£ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯ä¸è¡Œçš„ã€‚è¿™ä¸ªä¸è¿‡åªæ˜¯ä¸€ä¸ªç®€å•çš„Python+OpenCVè¿›è¡Œå›¾åƒè¯†åˆ«çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼Œä»£ç è¿˜æ˜¯å­˜åœ¨è¦å†è¿›è¡ŒäºŒæ¬¡ä¼˜åŒ–çš„ç©ºé—´çš„ã€‚</p>\n<h2 id=\"ç»“è¨€ï¼š\"><a href=\"#ç»“è¨€ï¼š\" class=\"headerlink\" title=\"ç»“è¨€ï¼š\"></a>ç»“è¨€ï¼š</h2><p>åˆ†äº«æ˜¯ä¸€ç§ç²¾ç¥ï¼Œåˆ†äº«ä¹Ÿæ˜¯ä½¿å…¶æŠ€æœ¯è¿›æ­¥çš„ä¸€ç§æ–¹å¼ï¼Œä»¥ä¸Šå°±æ˜¯Python+OpenCVè¿›è¡Œå›¾åƒè¯†åˆ«çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼Œå¦‚æœæœ‰å¿ƒçš„åŒå­¦ï¼Œä¹Ÿå¯ä»¥åœ¨æˆ‘è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå†æ·±ä¸€å±‚çš„ä¼˜åŒ–ï¼Œå‚ä¸å¼€æºï¼Œçƒ­è¡·æŠ€æœ¯ï¼Œæå‡è‡ªå·± ğŸ˜„ ã€‚</p>\n","categories":["Python","OpenCV"],"tags":["Python","OpenCV"]},{"title":"è®°å½•ä¸€æ¬¡Hibernateä¸€å¯¹å¤šæ’å…¥é—®é¢˜","url":"/archives/start.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/07/1609932867.png\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>   åœ¨ä¸€æ¬¡webé¡¹ç›®ä¸­ï¼Œå…¶åœºæ™¯ä¸ºå‘˜å·¥ä¸éƒ¨é—¨çš„å…³è”å…³ç³»ï¼Œåœ¨å‘˜å·¥è¡¨ç”Ÿæˆä¸€ä¸ªå¤–é”®å¯¹åº”å…¶éƒ¨é—¨è¡¨çš„ä¸»é”®ï¼Œé…ç½®çš„ä¸ºä¸€å¯¹å¤šå…³è”å…³ç³»ï¼Œå½“æ’å…¥æ•°æ®æ—¶å´å‡ºç°äº†å‘˜å·¥è¡¨å¤–é”®ä¸ºnullçš„æƒ…å†µã€‚</p>\n<hr>\n<h2 id=\"å‘˜å·¥ç±»\"><a href=\"#å‘˜å·¥ç±»\" class=\"headerlink\" title=\"å‘˜å·¥ç±»\"></a>å‘˜å·¥ç±»</h2><p>åŸºäºhibernateæ³¨è§£é…ç½®ï¼Œgetterä¸setteræ–¹æ³•ä¸å†åˆ—å‡ºï¼Œåªåˆ—å‡ºäº†å…¶å¯¹åº”å­—æ®µã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Entity</span></span><br><span class=\"line\"><span class=\"meta\">@Table(name=&quot;p_users&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">P_user</span> </span>&#123;</span><br><span class=\"line\"><span class=\"meta\">@Id</span></span><br><span class=\"line\"><span class=\"meta\">@GeneratedValue(generator=&quot;mygener&quot;)</span></span><br><span class=\"line\"><span class=\"comment\">//æ•´é•¿ç­–ç•¥</span></span><br><span class=\"line\"><span class=\"meta\">@GenericGenerator(name=&quot;mygener&quot;,strategy=&quot;native&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;names&quot;,length=20,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String names;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;sex&quot;,length=10,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String sex;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;iphone&quot;,length=40,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String iphone;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;email&quot;,length=45,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String email;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;states&quot;,length=10,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String states;</span><br></pre></td></tr></table></figure>\n<h2 id=\"éƒ¨é—¨ç±»\"><a href=\"#éƒ¨é—¨ç±»\" class=\"headerlink\" title=\"éƒ¨é—¨ç±»\"></a>éƒ¨é—¨ç±»</h2><p>åŸºäºhibernateæ³¨è§£é…ç½®ï¼Œgetterä¸setteræ–¹æ³•ä¸å†åˆ—å‡ºï¼Œåªåˆ—å‡ºäº†å…¶å¯¹åº”å­—æ®µ</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Entity</span></span><br><span class=\"line\"><span class=\"meta\">@Table(name=&quot;dept&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Dept</span> </span>&#123;</span><br><span class=\"line\"><span class=\"meta\">@Id</span></span><br><span class=\"line\"><span class=\"meta\">@GeneratedValue(generator=&quot;mygener&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@GenericGenerator(name=&quot;mygener&quot;,strategy=&quot;native&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;ename&quot;,length=30,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String ename;</span><br><span class=\"line\"><span class=\"meta\">@Column(name=&quot;datas&quot;,length=40,nullable=true,unique=false)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String datas;</span><br><span class=\"line\"><span class=\"comment\">//æ³¨è§£é…ç½®ä¸€å¯¹å¤šå…³è”å…³ç³»</span></span><br><span class=\"line\"><span class=\"meta\">@OneToMany(targetEntity=P_user.class,cascade=CascadeType.ALL)</span></span><br><span class=\"line\"><span class=\"comment\">//å¤–é”®åç§°</span></span><br><span class=\"line\"><span class=\"meta\">@JoinColumn(name=&quot;dept_id&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Set&lt;P_user&gt; puser = <span class=\"keyword\">new</span> HashSet&lt;P_user&gt;();</span><br></pre></td></tr></table></figure>\n<h2 id=\"åŸTestæµ‹è¯•ç±»\"><a href=\"#åŸTestæµ‹è¯•ç±»\" class=\"headerlink\" title=\"åŸTestæµ‹è¯•ç±»\"></a>åŸTestæµ‹è¯•ç±»</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">SessionFactory sessionFactory = SessionFacUtil.getsessionFactory();<span class=\"comment\">//åŠ è½½é…ç½®</span></span><br><span class=\"line\">Session session = sessionFactory.openSession();<span class=\"comment\">//åˆ›å»ºsession\t</span></span><br><span class=\"line\">Transaction tx =  session.beginTransaction();<span class=\"comment\">//å¼€å¯äº‹åŠ¡</span></span><br><span class=\"line\">P_user user = <span class=\"keyword\">new</span> P_user ();</span><br><span class=\"line\">user.setNames(<span class=\"string\">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class=\"line\">Set&lt;P_user&gt; sets = <span class=\"keyword\">new</span> HashSet&lt;P_user&gt;();</span><br><span class=\"line\">sets.add(user);</span><br><span class=\"line\"><span class=\"comment\">//æŸ¥è¯¢å·²æœ‰çš„éƒ¨é—¨</span></span><br><span class=\"line\">Dept dept = session.get(Dept.class, <span class=\"number\">12</span>);</span><br><span class=\"line\"><span class=\"comment\">//å°†è¯¥äººå‘˜ç±»åŠ å…¥åˆ°éƒ¨é—¨çš„seté›†åˆä¸­ï¼Œå¹¶äº§ç”Ÿå¤–é”®è”ç³»</span></span><br><span class=\"line\">dept.setUsers(sets);</span><br><span class=\"line\">session.save(dept);</span><br><span class=\"line\">tx.commit();</span><br><span class=\"line\">session.close();</span><br><span class=\"line\">sessionFactory.close();</span><br></pre></td></tr></table></figure>\n<p>è¿è¡Œæµ‹è¯•æ— å¼‚å¸¸ï¼ŒæŸ¥çœ‹æ•°æ®åº“ä¹Ÿæ­£å¸¸æ’å…¥äº†æ•°æ®<br>æ•°æ®åº“æ˜¾ç¤ºä¸ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/07/3283312814.png\"></p>\n<p>å¯è§ä»¥æ­£å¸¸æ’å…¥ï¼Œå¹¶ä¸äº§ç”Ÿäº†å¤–é”®ï¼Œå¯å½“å†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œå†æ¬¡æ’å…¥æ—¶å‡ºç°äº†é—®é¢˜ï¼Œæ–°è¿è¡Œçš„æ’å…¥çš„æ’å…¥æˆåŠŸäº†ï¼Œå¯ç¬¬ä¸€æ¬¡æ’å…¥çš„æ•°æ®å¤–é”®å´å˜æˆäº†nullï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½å­˜åœ¨è¿™ä¸€ä¸ªå¤–é”®ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªã€‚<br>å¦‚å›¾ï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/07/3252239438.png\"></p>\n<p>è¿™å°±è®©æˆ‘æ„Ÿåˆ°å¾ˆæ˜¯ç–‘æƒ‘ï¼Œä¸€å¯¹å¤šï¼Œç”±è¡¨å¯çŸ¥ï¼Œä¸€ä¸ªéƒ¨é—¨ä¸‹å¯ä»¥æœ‰å¤šä¸ªéƒ¨é—¨çš„ï¼Œä¸åº”è¯¥ä¼šå‡ºç°è¿™ç§nullçš„æƒ…å†µçš„ï¼Œä¸€å¼€å§‹ä»¥ä¸ºé…ç½®çš„é—®é¢˜ï¼Œæ£€æŸ¥äº†å¥½å¤šé…ç½®åœ°æ–¹ï¼Œä¹Ÿåœ¨ç½‘ä¸Šæœå¯»äº†ä¸€å¤§åœˆï¼Œæœ€åè¿˜æ˜¯æ— æœã€‚</p>\n<p>æ­£å½“æˆ‘ä¸€ç­¹è«å±•çš„æ—¶å€™ï¼Œçªç„¶å‘ç°äº†ä¸€å¥å…³é”®çš„è¯</p>\n<pre><code>Set&lt;P_user&gt; sets = new HashSet&lt;P_user&gt;();\n</code></pre>\n<p>æ²¡é”™ï¼Œå°±æ˜¯å®ƒï¼Œæˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯è¿™ä¸ªseté›†åˆçš„é—®é¢˜ï¼Œæ¯æ¬¡è¿è¡Œnewåéƒ½äº§ç”Ÿæ–°çš„é›†åˆï¼Œç„¶åå†æŠŠé›†åˆåŠ å…¥deptä¸­ï¼Œå†æ‰§è¡Œæ•°æ®æ’å…¥ï¼Œä¼šä¸ä¼šæ˜¯è¿™ä¸ªçš„å½±å“ï¼Œäºæ˜¯æ”¹é€ äº†ä»¥ä¸‹æ–°çš„æµ‹è¯•ç±»</p>\n<h2 id=\"æ–°Testæµ‹è¯•ç±»\"><a href=\"#æ–°Testæµ‹è¯•ç±»\" class=\"headerlink\" title=\"æ–°Testæµ‹è¯•ç±»\"></a>æ–°Testæµ‹è¯•ç±»</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">SessionFactory sessionFactory = SessionFacUtil.getsessionFactory();<span class=\"comment\">//åŠ è½½é…ç½®</span></span><br><span class=\"line\">Session session = sessionFactory.openSession();<span class=\"comment\">//åˆ›å»ºsession\t</span></span><br><span class=\"line\">Transaction tx =  session.beginTransaction();<span class=\"comment\">//å¼€å¯äº‹åŠ¡</span></span><br><span class=\"line\">P_user user = <span class=\"keyword\">new</span> P_user ();</span><br><span class=\"line\">user.setNames(<span class=\"string\">&quot;å¼ ä¸‰3&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//æŸ¥è¯¢å·²æœ‰çš„éƒ¨é—¨</span></span><br><span class=\"line\">Dept dept = session.get(Dept.class, <span class=\"number\">12</span>);</span><br><span class=\"line\"><span class=\"comment\">//å°†è¯¥äººå‘˜ç±»åŠ å…¥åˆ°è¯¥æŸ¥è¯¢å‡ºæ¥çš„deptçš„seté›†åˆä¸­</span></span><br><span class=\"line\">dept.getUsers().add(user);</span><br><span class=\"line\">session.save(dept);</span><br><span class=\"line\">tx.commit();</span><br><span class=\"line\">session.close();</span><br><span class=\"line\">sessionFactory.close();</span><br></pre></td></tr></table></figure>\n<p>æµ‹è¯•ç»“æœå®Œç¾é€šè¿‡<br>æ•°æ®åº“æˆªå›¾ï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/07/348904703.png\"></p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>å°±æ˜¯è¿™ä¸ªæ¯æ¬¡newçš„seté›†åˆé—®é¢˜ï¼Œç»“æœæ‰§è¡Œæ—¶æœ‰è®©æ•°æ®åº“updateçš„äº†ä»¥ä¸‹ï¼ŒæŠŠç¬¬ä¸€æ¬¡æ’å…¥çš„æ•°æ®å˜ä¸ºäº†nullã€‚</p>\n<p>ä¸€æ¬¡å°å°çš„ç»†èŠ‚é—®é¢˜ï¼Œä¹Ÿä½“ç°å‡ºçœ‹æ¥æˆ‘å¯¹hibernateäº†è§£å­¦ä¹ çš„è¿˜ä¸å¤Ÿé€å½»ï¼Œè¿˜éœ€åŠªåŠ›ä¸“ç ”ã€‚</p>\n","categories":["æŒä¹…å±‚æ¡†æ¶"],"tags":["Hibernate"]},{"title":"Mybatisä¸­Mapperä¼ å…¥å¤æ‚æ€§å‚æ•°","url":"/archives/39.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/08/3537748652.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¿‘æœŸè‡ªå­¦äº†Mybatisæ¡†æ¶ï¼Œå­¦å®Œä¹‹åä¹Ÿæ­£åœ¨ç€æ‰‹å†™äº†ä¸€ä¸ªSSMé¡¹ç›®ï¼Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨MybatisæŒä¹…å±‚æ¡†æ¶æ—¶ï¼Œå¯¹Mapper.XMLä¼ å‚æ•°æ—¶é‡åˆ°äº†ä¸€äº›å°å°çš„é—®é¢˜ï¼Œäºæ˜¯åœ¨æ­¤åšä¸ªç¬”è®°ï¼ŒåŠ æ·±å°è±¡ã€‚</p>\n<h2 id=\"Mybatisç®€ä»‹\"><a href=\"#Mybatisç®€ä»‹\" class=\"headerlink\" title=\"Mybatisç®€ä»‹\"></a>Mybatisç®€ä»‹</h2><p>æŒä¹…å±‚æ¡†æ¶ï¼Œæ˜¯apacheä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä½¿ç”¨æ˜ å°„æ–¹å¼ï¼ŒåŠè‡ªåŠ¨åŒ–ï¼ˆéœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™Sqlè¯­å¥ï¼‰ï¼Œç›¸æ¯”Hibernateè€Œè¨€å­¦ä¹ éš¾åº¦å°ï¼Œä¸Šæ‰‹å¿«ã€‚</p>\n<h2 id=\"Mybatisä¼ å‚ç±»å‹\"><a href=\"#Mybatisä¼ å‚ç±»å‹\" class=\"headerlink\" title=\"Mybatisä¼ å‚ç±»å‹\"></a>Mybatisä¼ å‚ç±»å‹</h2><ul>\n<li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šintï¼ŒStringï¼ŒDeteç­‰</li>\n<li>å¤æ‚æ•°æ®ç±»å‹ï¼šBeanå®ä½“ç±»ï¼Œmap</li>\n</ul>\n<h2 id=\"ä¼ å‚å±æ€§\"><a href=\"#ä¼ å‚å±æ€§\" class=\"headerlink\" title=\"ä¼ å‚å±æ€§\"></a>ä¼ å‚å±æ€§</h2><p>Mybatisä¸­çš„<strong>parameterType</strong>å±æ€§</p>\n<p><em>æœ¬æ–‡ä¸»è¦è®°å½•ä¼ å…¥å¤æ‚å‹å‚æ•°ä¸­çš„Map</em></p>\n<h2 id=\"ä¼ å…¥Map-ä¸€\"><a href=\"#ä¼ å…¥Map-ä¸€\" class=\"headerlink\" title=\"ä¼ å…¥Map(ä¸€)\"></a>ä¼ å…¥Map(ä¸€)</h2><p><strong>Mapper.XMLé…ç½®</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--parameterTypeä¼ å…¥çš„ç±»å‹ä¸ºMapï¼ŒresultTypeè¿”å›ä¸ºä¸€ä¸ªå®ä½“ç±»--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;java.util.Map&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;AdminUser&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--#&#123;name&#125;èŠ±æ‹¬å·ä¸­çš„å€¼ä¸ºMapé›†åˆä¸­çš„Key--&gt;</span></span><br><span class=\"line\">SELECT  * FROM USER WHERE username = #&#123;name&#125; AND sex =#&#123;sex&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><strong>Mapperæ¥å£</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å‚æ•°ç±»å‹ä¸ºMapï¼Œä¸Mapper.xmlä¸­çš„parameterTypeå‚æ•°ç±»å‹ä¸€è‡´</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> AdminUser <span class=\"title\">selectUser</span><span class=\"params\">(Map&lt;String, Object&gt; map)</span> <span class=\"keyword\">throws</span> Exception</span>;</span><br></pre></td></tr></table></figure>\n<p><strong>æµ‹è¯•ç±»</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å®šä¹‰Mapé›†åˆ</span></span><br><span class=\"line\">Map&lt;String, Object&gt; map = <span class=\"keyword\">new</span> HashMap&lt;String, Object&gt;();</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;name&quot;</span>, <span class=\"string\">&quot;å¼ å°æ˜&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;sex&quot;</span>, <span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//è°ƒç”¨daoæ¥å£ï¼Œå¹¶ä¼ å…¥Mapé›†åˆ</span></span><br><span class=\"line\">å¯¹è±¡.selectUser(map);</span><br></pre></td></tr></table></figure>\n<p><strong>æµ‹è¯•ç»“æœæˆªå›¾</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/08/2856416609.png\"><br>å¯è§å·²ç»æŸ¥è¯¢å‡ºäº†è¯¥æ¡æ•°æ®</p>\n<h2 id=\"ä¼ å…¥Map-äºŒ\"><a href=\"#ä¼ å…¥Map-äºŒ\" class=\"headerlink\" title=\"ä¼ å…¥Map(äºŒ)\"></a>ä¼ å…¥Map(äºŒ)</h2><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--parameterTypeä¼ å…¥çš„ç±»å‹ä¸ºMapï¼ŒresultTypeè¿”å›ä¸ºä¸€ä¸ªå®ä½“ç±»--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;java.util.Map&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;AdminUser&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--#&#123;user.username&#125;èŠ±æ‹¬å·ä¸­çš„å€¼ä¸ºUserå®ä½“ç±»ä¸­å±æ€§--&gt;</span></span><br><span class=\"line\">SELECT  * FROM USER WHERE username = #&#123;user.username&#125; AND sex =#&#123;user.sex&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><strong>Mapperæ¥å£</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å‚æ•°ç±»å‹ä¸ºUserå®ä½“ç±»ï¼Œä½¿ç”¨@Paramæ³¨è§£çš„ä½œç”¨æ˜¯ç»™å‚æ•°å‘½å</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> AdminUser <span class=\"title\">selectUser</span><span class=\"params\">((<span class=\"meta\">@Param(&quot;user&quot;)</span>AdminUser adminUser)</span> <span class=\"keyword\">throws</span> Exception</span>;</span><br></pre></td></tr></table></figure>\n<p><strong>æµ‹è¯•ç±»</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å®šä¹‰å®ä½“ç±»å¯¹è±¡</span></span><br><span class=\"line\">AdminUser u = <span class=\"keyword\">new</span> AdminUser();</span><br><span class=\"line\">u.setSex(<span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\">u.setUname(<span class=\"string\">&quot;å¼ å°æ˜&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//è°ƒç”¨æ¥å£ï¼Œä¼ å…¥å®ä½“ç±»å¯¹è±¡</span></span><br><span class=\"line\">å¯¹è±¡.selectUser(u);</span><br></pre></td></tr></table></figure>\n<p><strong>æµ‹è¯•ç»“æœæˆªå›¾</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/08/2856416609.png\"><br>å¯è§å·²ç»æŸ¥è¯¢å‡ºäº†è¯¥æ¡æ•°æ®</p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>æ€»ä½“æ¥è¯´Mybatisçš„ä½¿ç”¨è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œä½†éœ€è¦å¯¹Sqlè¯­å¥æœ‰ä¸€å®šçš„æŒæ¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨generatoré€†å‘å·¥ç¨‹ç”ŸæˆMapperï¼Œä¸è¿‡ç”Ÿæˆçš„ä»£ç ä¹Ÿéœ€è¦è‡ªå·±èƒ½å¤Ÿç†è§£èƒ½å¤Ÿçœ‹æ‡‚ï¼Œä½†åœ¨çœ‹æ‡‚çš„å‰æä¸‹ï¼Œè¿˜æ˜¯éœ€è¦æ‡‚å¾—sqlè¯­å¥ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ã€‚</p>\n","categories":["æŒä¹…å±‚æ¡†æ¶"],"tags":["Mybatis"]},{"title":"Spring+SpringMVC+Mybatisåå°ç®¡ç†ç³»ç»Ÿ","url":"/archives/44.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/08/1239678965.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è·ç¦»ä¸Šä¸€ä¸ªå‘å¸ƒçš„SSHé¡¹ç›®å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œåœ¨å®Œæˆäº†ä¸Šä¸€ä¸ªSSHé¡¹ç›®åï¼Œäºæ˜¯ä¹åˆå¼€å§‹SSMæ¡†æ¶çš„å­¦ä¹ ï¼Œåˆ°ä»Šä¸ºæ­¢SSMæ¡†æ¶å·²åŸºæœ¬å®Œæˆï¼ŒåŒæ—¶åšäº†ä¸€ä¸ªSSMçš„åå°ç®¡ç†ç³»ç»Ÿï¼Œä»¥ä¾¿å·©å›ºæ›´å¤šçŸ¥è¯†ç‚¹ã€‚</p>\n<hr>\n<h2 id=\"é¡¹ç›®ç®€ä»‹\"><a href=\"#é¡¹ç›®ç®€ä»‹\" class=\"headerlink\" title=\"é¡¹ç›®ç®€ä»‹\"></a>é¡¹ç›®ç®€ä»‹</h2><p>é¡¹ç›®å±äºåå°ç®¡ç†ç³»ç»Ÿï¼Œå‰ç«¯æ ·å¼é£æ ¼è¿˜æ˜¯æ²¿ç”¨äº†SSHé¡¹ç›®çš„å‰ç«¯æ ·å¼ï¼ˆå…¶å®æ˜¯ä¸æƒ³å†è°ƒè¯•å‰ç«¯äº†ï¼ŒæŠŠæ—¶é—´æ”¾åœ¨äº†åç«¯ï¼‰ï¼Œåç«¯ä½¿ç”¨SSMæ¡†æ¶ï¼Œå‰åç«¯åˆ†ç¦»ï¼Œè¿›è¡ŒCRUDæ“ä½œã€‚</p>\n<p><strong>é¡¹ç›®æ¨¡å—</strong></p>\n<ul>\n<li>æ™®é€šäººå‘˜ç®¡ç†</li>\n<li>åå°äººå‘˜ç®¡ç†</li>\n<li>æ–°é—»ç®¡ç†</li>\n<li>èµ„æºä¸Šä¼ </li>\n<li>èµ„æºä¸‹è½½</li>\n<li>ç±»åˆ«ç®¡ç†</li>\n<li>éƒ¨é—¨ç®¡ç†</li>\n</ul>\n<p><strong>æ¶æ„æ–¹å¼</strong><br>å‰åç«¯åˆ†ç¦»ï¼Œé¢å‘æ¥å£å¼€å‘ï¼Œä¸‰å±‚æ¶æ„ï¼Œéƒ¨åˆ†é“¾æ¥é‡‡ç”¨äº†RESTfulé£æ ¼ã€‚</p>\n<p><strong>è¯·æ±‚æ–¹å¼</strong><br>Ajaxå¼‚æ­¥å‘åå°å‘é€è¯·æ±‚</p>\n<p><strong>æ•°æ®åº“</strong><br>mysqlå…³ç³»å‹æ•°æ®åº“</p>\n<p><strong>è¿è¡Œç¯å¢ƒ</strong><br>tomcat9.x</p>\n<p><strong>å¼€å‘å‘¨æœŸ</strong><br>è‡ªå­¦ + åšé¡¹ç›®= 45å¤©</p>\n<p><strong>é¡¹ç›®ç»“æ„å›¾</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/09/2737441036.png\"></p>\n<p><strong>é¡¹ç›®æˆªå›¾</strong></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/4235734422.png\"></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/2378386128.png\"></p>\n<p><em>æ›´å¤šæˆªå›¾è¯·ç‚¹å‡»è·å–é¡¹ç›®</em></p>\n<hr>\n<h2 id=\"è·å–é¡¹ç›®\"><a href=\"#è·å–é¡¹ç›®\" class=\"headerlink\" title=\"è·å–é¡¹ç›®\"></a>è·å–é¡¹ç›®</h2><p><em>æ›´å¤šè¯¦æƒ…è¯·ç‚¹å‡»è·å–é¡¹ç›®</em></p>\n<p>é¡¹ç›®è·å–åœ°å€ï¼š<a href=\"https://github.com/Snykta/admin_ssm\">ç‚¹å‡»ç›´è¾¾</a></p>\n<hr>\n<h2 id=\"é™„åŠ \"><a href=\"#é™„åŠ \" class=\"headerlink\" title=\"é™„åŠ \"></a>é™„åŠ </h2><p>SSHé¡¹ç›®ï¼š<a href=\"https://www.charones.com/archives/13.html\">SSHåå°ç®¡ç†ç³»ç»Ÿ</a></p>\n<hr>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>åˆ†äº«æ˜¯å¿«ä¹çš„ï¼Œåˆ†äº«æ˜¯äº’ç›¸è¿›æ­¥çš„ï¼Œå¦‚æœé¡¹ç›®å­˜åœ¨ä¸è¶³ç¼ºç‚¹ï¼Œè¿˜åŠ³çƒ¦è¯·æŒ‡ç‚¹è¿·æ´¥ï¼Œå­¦ä¹ æˆ‘ä¸€ç›´åœ¨è·¯ä¸Šï¼Œå¦‚æœæ˜¯å¯¹ä½ çš„å­¦ä¹ è·¯é€”æœ‰äº†äº›è®¸å¸®åŠ©ï¼Œé‚£å°±è¿˜åŠ³çƒ¦è¯·åŠ¨åŠ¨å°æ‰‹ç‚¹ä¸ªStarã€‚</p>\n","categories":["JavaWebé¡¹ç›®"],"tags":["JavaWeb"]},{"title":"Spring+Struts2+Hibernateåå°ç®¡ç†ç³»ç»Ÿ","url":"/archives/13.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/07/3323727449.png\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>åªå­¦ä¸ç»ƒå‡æŠŠå¼ï¼Œäººéƒ½æ˜¯æœ‰é—å¿˜æ€§çš„ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯å­¦ä¹ äº†Spring+Hibernate+Struts2æ¡†æ¶åçš„ä¸€ä¸ªäº§ç‰©ï¼ŒåŒæ—¶ä¹Ÿè®°å½•äº†æˆ‘å­¦ä¹ çš„è¿‡ç¨‹ä¸æ”¶è·ã€‚</p>\n<hr>\n<h2 id=\"é¡¹ç›®ç®€ä»‹\"><a href=\"#é¡¹ç›®ç®€ä»‹\" class=\"headerlink\" title=\"é¡¹ç›®ç®€ä»‹\"></a>é¡¹ç›®ç®€ä»‹</h2><p>é¡¹ç›®å±äºä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œè¿›è¡ŒCRUDæ“ä½œï¼Œå…·ä½“ç®€ä»‹å¦‚ä¸‹ï¼š</p>\n<p><strong>é¡¹ç›®æ¨¡å—</strong></p>\n<ul>\n<li>æ™®é€šäººå‘˜ç®¡ç†</li>\n<li>åå°äººå‘˜ç®¡ç†</li>\n<li>æ–°é—»ç®¡ç†</li>\n<li>èµ„æºä¸Šä¼ ä¸‹è½½</li>\n<li>ç±»åˆ«ç®¡ç†</li>\n<li>éƒ¨é—¨ç®¡ç†</li>\n</ul>\n<p><strong>æ¶æ„æ–¹å¼</strong><br>é¢å‘æ¥å£å¼€å‘ï¼Œä¸‰å±‚æ¶æ„ï¼ŒåŸºäºæ³¨è§£æ–¹å¼å¼€å‘</p>\n<p><strong>è¯·æ±‚æ–¹å¼</strong><br>Ajaxå¼‚æ­¥å‘åå°å‘é€è¯·æ±‚</p>\n<p><strong>æ•°æ®åº“</strong><br>mysqlå…³ç³»å‹æ•°æ®åº“</p>\n<p><strong>å¼€å‘å‘¨æœŸ</strong><br>åˆ©ç”¨ç©ºé—²æ—¶é—´ï¼Œç‹¬ç«‹å¼€å‘ï¼Œç”¨æ—¶17å¤©</p>\n<p><strong>é¡¹ç›®æˆªå›¾</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/09/1993705987.png\"></p>\n<p><em>æ›´å¤šæˆªå›¾è¯·ç‚¹å‡»è·å–é¡¹ç›®</em></p>\n<hr>\n<h2 id=\"é¡¹ç›®è·å–\"><a href=\"#é¡¹ç›®è·å–\" class=\"headerlink\" title=\"é¡¹ç›®è·å–\"></a>é¡¹ç›®è·å–</h2><p><em>æ›´å¤šè¯¦æƒ…è¯·è·å–é¡¹ç›®</em></p>\n<p>é¡¹ç›®è·å–åœ°å€ï¼š<a href=\"https://github.com/Snykta/admin_ssh\">https://github.com/Snykta/admin_ssh</a></p>\n<hr>\n<h2 id=\"å…¶ä»–\"><a href=\"#å…¶ä»–\" class=\"headerlink\" title=\"å…¶ä»–\"></a>å…¶ä»–</h2><p>å†é™„ä¸Šä¸€ä¸ªæ›¾ç»å†™çš„ä¸€ä¸ªåŸç”Ÿçš„JavaWebé¡¹ç›®(æ²¡ç”¨ä»»ä½•æ¡†æ¶)</p>\n<p>é¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/Snykta/GalaCMS\">https://github.com/Snykta/GalaCMS</a></p>\n<hr>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>åˆ†äº«æ˜¯å¿«ä¹çš„ï¼Œåˆ†äº«æ˜¯äº’ç›¸è¿›æ­¥çš„ï¼Œå¦‚æœé¡¹ç›®å­˜åœ¨ä¸è¶³ç¼ºç‚¹ï¼Œè¿˜åŠ³çƒ¦è¯·æŒ‡ç‚¹è¿·æ´¥ï¼Œå¦‚æœæ˜¯å¯¹ä½ çš„å­¦ä¹ è·¯é€”æœ‰äº†äº›è®¸å¸®åŠ©ï¼Œå“ˆå“ˆï¼Œé‚£å°±è¿˜è¯·åŠ¨åŠ¨å°æ‰‹ç‚¹ä¸ªStarã€‚</p>\n","categories":["JavaWebé¡¹ç›®"],"tags":["JavaWeb"]},{"title":"SpringMVCåœ¨éContollerå±‚è·å–requestå’Œresponseå¯¹è±¡","url":"/archives/36.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/07/1458723386.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>åœ¨SpringMVCä¸­ï¼Œå¦‚æœåœ¨contollerå±‚è·å–requestå’Œresponseå¯¹è±¡æ˜¯å¾ˆå¥½è·å–çš„ï¼Œç›´æ¥åœ¨handleræ–¹æ³•å‚æ•°ä¸­å¯ä»¥ç›´æ¥æ‹¿åˆ°requestå’Œresponseå¯¹è±¡ï¼Œè€Œåœ¨écontollerå±‚è¯¥å¦‚ä½•è·å–å‘¢ï¼Ÿ</p>\n<p>ç­”ï¼šé€šè¿‡springMVCæä¾›çš„RequestContextHolderæ¥è·å–</p>\n<hr>\n<h2 id=\"è·å–æ–¹æ³•\"><a href=\"#è·å–æ–¹æ³•\" class=\"headerlink\" title=\"è·å–æ–¹æ³•\"></a>è·å–æ–¹æ³•</h2><figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">HttpServletResponse response =((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getResponse();</span><br><span class=\"line\"></span><br><span class=\"line\">HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>éœ€è¦å¯¼å…¥çš„åŒ…</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.context.request.RequestContextHolder;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.context.request.ServletRequestAttributes;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>ä»¥ä¸Šå°±æ˜¯åœ¨écontollerå±‚è·å–requestå’Œresponseå¯¹è±¡çš„æ–¹æ³•ï¼Œä¹Ÿç®—æ˜¯åšä¸€ä¸ªç¬”è®°ï¼Œé˜²æ­¢æ—¥åæœ‰é—å¿˜ã€‚</p>\n","categories":["SpringMVC"],"tags":["SpringMVC"]},{"title":"IDEAä¸‹åˆ›å»ºmavenèšåˆå·¥ç¨‹","url":"/archives/66.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/11/710888379.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä»¥å¾€éƒ½æ˜¯ä½¿ç”¨çš„eclipseå·¥å…·æ¥å¼€å‘é¡¹ç›®ï¼Œè™½ç„¶IDEAä¹Ÿåœ¨ä½¿ç”¨ï¼Œä½†ä½¿ç”¨å®ƒæ¥å¼€å‘çš„é¡¹ç›®è¾ƒå°‘ï¼Œå‰å‡ å¤©eclipseçªç„¶æŠ½é£äº†ï¼Œå¯¼è‡´é¡¹ç›®æ— æ³•è¿›è¡Œä¸‹å»ï¼Œäºæ˜¯å°±æ‰“ç®—è½¬æˆ˜IDEAï¼Œè€Œåå°±æœ‰äº†ä»¥ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œè®°å½•IDEAä¸‹æ­å»ºMavenèšåˆå·¥ç¨‹ã€‚</p>\n<h2 id=\"é¡¹ç›®ä»‹ç»\"><a href=\"#é¡¹ç›®ä»‹ç»\" class=\"headerlink\" title=\"é¡¹ç›®ä»‹ç»\"></a>é¡¹ç›®ä»‹ç»</h2><p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼å•†åŸé¡¹ç›®ï¼Œç”¨åˆ°çš„æŠ€æœ¯æ ˆæœ‰ï¼šSpringï¼ŒSpringMVCï¼ŒMybatisï¼ŒDubboï¼ŒRedisï¼ŒFastDFSï¼ŒZookeeperï¼ŒNginxç­‰æ¡†æ¶ï¼Œæœ¬ç¯‡æ–‡ç« ä¸é‡ç‚¹ä»‹ç»æ­¤é¡¹ç›®ï¼Œ<strong>ä¸»è¦è®°å½•IDEAä¸‹åˆ›å»ºmavenèšåˆé¡¹ç›®çš„è¿‡ç¨‹</strong>ã€‚</p>\n<h2 id=\"å·¥ç¨‹ç»“æ„\"><a href=\"#å·¥ç¨‹ç»“æ„\" class=\"headerlink\" title=\"å·¥ç¨‹ç»“æ„\"></a>å·¥ç¨‹ç»“æ„</h2><p>parentä¸ºå·¥ç¨‹çš„çˆ¶å·¥ç¨‹ï¼Œç”¨æ¥ç®¡ç†jaråŒ…çš„ç‰ˆæœ¬å·ï¼Œé¡¹ç›®ä¸­æ‰€æœ‰å·¥ç¨‹éƒ½ç»§æ‰¿è¯¥çˆ¶å·¥ç¨‹ã€‚</p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/11/1909012967.png\"></p>\n<hr>\n<p><strong>å¼€å§‹ä¹‹å‰å…ˆåˆ›å»ºä¸€ä¸ªç©ºçš„å·¥ç¨‹ï¼Œä½œä¸ºæ•´ä¸ªé¡¹ç›®çš„å·¥ä½œç©ºé—´ï¼Œå­˜å‚¨é¡¹ç›®ã€‚</strong></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/11/3179563415.png\"><br><strong>ç‚¹å‡»nextåä¼šè®©è¾“å…¥é¡¹ç›®åç§°ï¼Œè¾“å®Œé¡¹ç›®åç§°åï¼Œç‚¹å‡»Finishåå°±åˆ›å»ºå®Œæˆäº†</strong>ã€‚</p>\n<hr>\n<h2 id=\"åˆ›å»ºparentå·¥ç¨‹\"><a href=\"#åˆ›å»ºparentå·¥ç¨‹\" class=\"headerlink\" title=\"åˆ›å»ºparentå·¥ç¨‹\"></a>åˆ›å»ºparentå·¥ç¨‹</h2><p>1ã€ä¾æ¬¡ç‚¹å‡»File â€”â€”&gt; New â€”â€”&gt; Module..<br><strong>å¦‚å›¾æ‰€ç¤ºï¼š</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/11/3229652861.png\"><br>2ã€ç‚¹å‡»åä¼šå¼¹å‡ºåˆ›å»ºå·¥ç¨‹çš„çª—å£ï¼Œç„¶åä¾æ­¤å¦‚å›¾ç‚¹å‡»ã€‚</p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/11/2154353145.png\"></p>\n<p>3ã€åœ¨æ­¤é¡µé¢å¡«å†™mavenå·¥ç¨‹ä¿¡æ¯åï¼Œä¸€ç›´ç‚¹å‡»nextç›´è‡³finishã€‚<br><strong>å¦‚å›¾æ‰€ç¤ºï¼š</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/11/3885920751.png\"></p>\n<p>4ã€æ­¤æ—¶parentå·¥ç¨‹åˆ›å»ºå®Œæ¯•ï¼Œæ‰“å¼€parentå·¥ç¨‹çš„pom.xmlæ–‡ä»¶è¿›è¡Œé…ç½®ä¿¡æ¯çš„ä¿®æ”¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ é™¤srcä¸‹çš„æ–‡ä»¶ï¼Œå› ä¸ºåœ¨æ­¤å°±åªæ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶çš„pomå·¥ç¨‹ï¼Œå› æ­¤ä¹Ÿå¯ä»¥åˆ é™¤srcä¸‹çš„æ–‡ä»¶ã€‚<br>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/1532921932.png\"><br>åœ¨æ­¤åªç”¨äº†ä¸€ä¸ªfastjsonä¾èµ–ä½œä¸ºäº†æ¼”ç¤ºã€‚<br><strong>æ³¨æ„ï¼šä¸€å®šè¦ä¿®æ”¹parentå·¥ç¨‹çš„æ‰“åŒ…æ–¹å¼ï¼Œåœ¨æ­¤ä¸ºçˆ¶å·¥ç¨‹ï¼Œå¹¶ä½œä¸ºç‰ˆæœ¬ä¾èµ–çš„æ§åˆ¶ï¼Œæ‰€ä»¥ä¿®æ”¹ä¸ºpomæ–¹å¼ã€‚</strong></p>\n<h2 id=\"åˆ›å»ºcommonå·¥ç¨‹\"><a href=\"#åˆ›å»ºcommonå·¥ç¨‹\" class=\"headerlink\" title=\"åˆ›å»ºcommonå·¥ç¨‹\"></a>åˆ›å»ºcommonå·¥ç¨‹</h2><p>1ã€å’Œåˆ›å»ºparentå·¥ç¨‹æ­¥éª¤ä¸€è‡´ï¼Œä¸€ç›´åˆ°å¡«å†™mavenå·¥ç¨‹ä¿¡æ¯æ‰æœ‰æ‰€ä¸åŒï¼Œåœ¨æ­¤å°±ä¸å†è®°å½•äº†ï¼Œç›´æ¥è®°å½•ä¸åŒä¹‹å¤„ã€‚<br>2ã€å¡«å†™mavenä¿¡æ¯ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/1564926419.png\"><br><strong>æ³¨æ„ï¼šæœ€ä¸Šé¢æœ‰ä¸¤ä¸ªé€‰é¡¹å¡ï¼Œç¬¬ä¸€ä¸ªé€‰æ‹©ä¸ºnoneï¼Œæ„æ€ä¸ºä¸å°†æ­¤è¿‡ç¨‹åŠ å…¥åˆ°parentä¸­ï¼ˆå› ä¸ºåªéœ€è¦å•çº¯çš„ç»§æ‰¿ï¼Œæ‰€ä»¥ä¸éœ€è¦æ·»åŠ ï¼Œèšåˆå·¥ç¨‹æ—¶æ‰éœ€è¦ï¼‰ï¼Œç¬¬äºŒä¸ªé€‰é¡¹å¡é€‰æ‹©åˆšåˆ›å»ºçš„parentï¼Œæ„æ€ä¸ºæ­¤å·¥ç¨‹å°†ç»§æ‰¿parentå·¥ç¨‹ã€‚</strong><br>3ã€ä¿®æ”¹å®Œæ¯•åï¼Œç‚¹å‡»nextç›´è‡³finishã€‚<br>4ã€commonå·¥ç¨‹åˆ›å»ºå®Œæ¯•ï¼Œä¿®æ”¹pom.xmlé…ç½®ä¿¡æ¯ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/3826692154.png\"><br>commonå·¥ç¨‹åˆ›å»ºå®Œæ¯•ã€‚</p>\n<h2 id=\"åˆ›å»ºmangerèšåˆå·¥ç¨‹\"><a href=\"#åˆ›å»ºmangerèšåˆå·¥ç¨‹\" class=\"headerlink\" title=\"åˆ›å»ºmangerèšåˆå·¥ç¨‹\"></a>åˆ›å»ºmangerèšåˆå·¥ç¨‹</h2><p>1ã€å’Œåˆ›å»ºcommonå·¥ç¨‹æ­¥éª¤ä¸€è‡´ï¼Œéƒ½è¦ç»§æ‰¿parentå·¥ç¨‹ï¼Œæœ€ååˆ›å»ºå®Œæ¯•åï¼ŒæŠŠpom.xmlæ–‡ä»¶çš„æ‰“åŒ…æ–¹å¼ä¿®æ”¹ä¸ºpomã€‚<br>pomæ–‡ä»¶å¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/2948097408.png\"><br>mangerå·¥ç¨‹åˆ›å»ºå®Œæ¯•</p>\n<h2 id=\"åˆ›å»ºpojoå­å·¥ç¨‹\"><a href=\"#åˆ›å»ºpojoå­å·¥ç¨‹\" class=\"headerlink\" title=\"åˆ›å»ºpojoå­å·¥ç¨‹\"></a>åˆ›å»ºpojoå­å·¥ç¨‹</h2><p>1ã€pojoå·¥ç¨‹ä¸ºmangerèšåˆå·¥ç¨‹ä¸‹çš„å­å·¥ç¨‹ï¼Œé¦–å…ˆç‚¹å‡»é€‰ä¸­mangerï¼Œç„¶åä¾æ¬¡ç‚¹å‡»ï¼šé¼ æ ‡å³é”®â€”â€”&gt; New â€”â€”&gt; Module..<br>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/908816368.png\"><br>2ã€ç‚¹å‡»ååœ¨å¼¹å‡ºçš„åˆ›å»ºå·¥ç¨‹ä¸Šä¾æ­¤å¦‚å›¾æ‰€ç¤ºç‚¹å‡»<br><img src=\"https://image.charones.com/usr/uploads/2019/11/292517979.png\"><br>3ã€ç‚¹å‡»nextåï¼Œå¦‚å›¾æ‰€ç¤ºé…ç½®mavenå·¥ç¨‹ä¿¡æ¯<br><img src=\"https://image.charones.com/usr/uploads/2019/11/3080248082.png\"><br>4ã€ç‚¹å‡»nextç›´è‡³finish<br>5ã€ä¿®æ”¹pojoçš„pomå·¥ç¨‹æ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/1802667684.png\"><br>6ã€æ­¤æ—¶pojoå­å·¥ç¨‹åˆ›å»ºå®Œæ¯•ï¼Œè¿™æ—¶å†å»æŸ¥çœ‹mangerèšåˆå·¥ç¨‹çš„pomæ–‡ä»¶ï¼Œé‡Œé¢å°±åŠ å…¥ä¸€ä¸ªåˆšåˆ›å»ºpojoæ¨¡å—<br>å¦‚å›¾ï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/11/2810311382.png\"></p>\n<hr>\n<h2 id=\"çœç•¥\"><a href=\"#çœç•¥\" class=\"headerlink\" title=\"çœç•¥\"></a>çœç•¥</h2><p><strong>å‰©ä½™çš„daoï¼Œinterfaceï¼Œserviceéƒ½å±äºmangerèšåˆå·¥ç¨‹ä¸‹çš„å­å·¥ç¨‹ï¼Œåˆ›å»ºæ–¹å¼å’Œpojoä¸€è‡´ï¼Œä¸ä¸€è‡´çš„åœ°æ–¹å°±æ˜¯æ‰“åŒ…æ–¹å¼ï¼Œæ‰“åŒ…æ–¹å¼æ ¹æ®å®é™…å·¥ç¨‹è€Œå®šã€‚</strong><br><strong>webå·¥ç¨‹ä¸å±äºèšåˆå·¥ç¨‹ä¸‹çš„å­å·¥ç¨‹ï¼Œå®ƒçš„åˆ›å»ºæ–¹å¼å°±å’Œcommonå·¥ç¨‹ä¸€è‡´ï¼Œä½†æ‰“åŒ…æ–¹å¼ä¸ºwaråŒ…ï¼Œæ ¹æ®å·¥ç¨‹è€Œå®šï¼Œé€‰æ‹©mavenå·¥ç¨‹çš„æ¨¡æ¿é€‰æ‹©ä¸ºï¼š</strong><br><img src=\"https://image.charones.com/usr/uploads/2019/11/2215964992.png\"><br>é€‰æ‹©webappæ˜¯å› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨ä¸ºä½ åˆ›å»ºweb.xmlç­‰æ–‡ä»¶ã€‚</p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>ä»¥ä¸Šå°±æ˜¯åœ¨IDEAå·¥å…·ä¸‹åˆ›å»ºmavenèšåˆå·¥ç¨‹çš„æ­¥éª¤ï¼Œä¹‹å‰ä¸€ç›´ç”¨eclipseæ¥åˆ›å»ºï¼Œè¿™æ¬¡eclipseæŠ½é£åï¼Œå°±è½¬æˆ˜IDEAäº†ï¼Œä¹Ÿå°±ç®—æ˜¯åšä¸ºä¸€ä¸ªç¬”è®°ï¼Œæ–¹ä¾¿æ—¥åæŸ¥çœ‹ã€‚</p>\n","categories":["maven"],"tags":["maven","IDEA"]},{"title":"SSMè´­ç‰©å•†åŸé¡¹ç›®+åå°ç®¡ç†","url":"/archives/64.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/10/1011996262.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æœ¬é¡¹ç›®æ˜¯åœ¨å­¦ä¹ SSMæ¡†æ¶åçš„åˆä¸€ä¸ªäº§ç‰©ï¼ŒåŒæ—¶ä¹Ÿæ˜¯åšä¸»å½“å¹´æ‹¿æ¥å½“ä½œæ¯•ä¸šè®¾è®¡çš„é¡¹ç›®ï¼Œä¹‹å‰å†™çš„éƒ½æ˜¯åå°ç®¡ç†ç³»ç»Ÿï¼Œå†™æ¥å†™å»åƒç¯‡ä¸€å¾‹ï¼Œäºæ˜¯ä¹å°±æƒ³å†™ä¸ªå¦ä¸€ç§ç±»å‹çš„é¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯¹è‡ªå·±æ‰€å­¦çŸ¥è¯†çš„å·©å›ºï¼Œäºæ˜¯æ­¤é¡¹ç›®å°±é—®ä¸–äº†ã€‚</p>\n<h2 id=\"é¡¹ç›®ç®€ä»‹\"><a href=\"#é¡¹ç›®ç®€ä»‹\" class=\"headerlink\" title=\"é¡¹ç›®ç®€ä»‹\"></a>é¡¹ç›®ç®€ä»‹</h2><p>æ­¤é¡¹ç›®æ˜¯ä¸€ä¸ªä¹°ç”Ÿé²œPCç«¯çš„<strong>ç®€å•çš„</strong>å•†åŸé¡¹ç›®ï¼ŒåŒ…å«<strong>ç”¨æˆ·ç«¯</strong>å’Œ<strong>ç®¡ç†å¹³å°</strong>ï¼Œè‡³äºä¸ºä»€ä¹ˆè¯´å®ƒç®€å•ï¼Œæ˜¯å› ä¸ºé‡Œé¢å¹¶æ²¡æœ‰å®Œå–„çš„å•†åŸé¡¹ç›®è¯¥æœ‰çš„åŠŸèƒ½ï¼Œä½†åŸºç¡€çš„åŠŸèƒ½è¿˜æ˜¯æœ‰çš„ï¼Œå…¶é¡¹ç›®ä¸»è¦ç›®çš„è¿˜æ˜¯ç”¨æ¥å·©å›ºè‡ªå·±æ‰€å­¦çš„çŸ¥è¯†ï¼Œæ¯•ç«Ÿå…‰å­¦ä¸ç»ƒå‡æŠŠå¼ã€‚</p>\n<h2 id=\"æ¨¡å—ä»‹ç»\"><a href=\"#æ¨¡å—ä»‹ç»\" class=\"headerlink\" title=\"æ¨¡å—ä»‹ç»\"></a>æ¨¡å—ä»‹ç»</h2><p><strong>ç”¨æˆ·ç«¯</strong></p>\n<ul>\n<li>ç™»é™†</li>\n<li>æ³¨å†Œ</li>\n<li>å•†å“åˆ—è¡¨</li>\n<li>å•†å“åˆ†ç±»</li>\n<li>å•†å“è¯¦æƒ…</li>\n<li>ç”¨æˆ·ä¸­å¿ƒ</li>\n<li>è´­ç‰©è½¦</li>\n<li>æˆ‘çš„çš„è®¢å•</li>\n<li>åœ°å€ç®¡ç†</li>\n<li>ç”¨æˆ·ä¸‹å•</li>\n<li>è®¢å•ç®¡ç†</li>\n</ul>\n<p><strong>ç®¡ç†å¹³å°</strong></p>\n<ul>\n<li>ç™»é™†</li>\n<li>ç±»åˆ«ç®¡ç†</li>\n<li>å•†å“ç®¡ç†</li>\n<li>è®¢å•ç®¡ç†</li>\n<li>ä¼šå‘˜ç®¡ç†</li>\n<li>åœ°å€ç®¡ç†</li>\n<li>ç³»ç»Ÿè®¾ç½®</li>\n<li>æƒé™ç®¡ç†</li>\n</ul>\n<h2 id=\"æŠ€æœ¯æ ˆ\"><a href=\"#æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"æŠ€æœ¯æ ˆ\"></a>æŠ€æœ¯æ ˆ</h2><p><strong>åç«¯</strong></p>\n<ul>\n<li>Spring</li>\n<li>SpirngMVC</li>\n<li>Mybatis</li>\n<li>Mysql</li>\n<li>Maven</li>\n<li>tomcat</li>\n<li>Log4j2</li>\n</ul>\n<p><strong>å‰ç«¯</strong></p>\n<ul>\n<li>html</li>\n<li>css</li>\n<li>Jquery</li>\n<li>Layui</li>\n<li>Ajax</li>\n</ul>\n<h2 id=\"é¡¹ç›®æˆªå›¾\"><a href=\"#é¡¹ç›®æˆªå›¾\" class=\"headerlink\" title=\"é¡¹ç›®æˆªå›¾\"></a>é¡¹ç›®æˆªå›¾</h2><h2 id=\"ç”¨æˆ·ç«¯\"><a href=\"#ç”¨æˆ·ç«¯\" class=\"headerlink\" title=\"ç”¨æˆ·ç«¯\"></a>ç”¨æˆ·ç«¯</h2><p><img src=\"https://image.charones.com/usr/uploads/2020/10/4249965181.png\"></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2020/10/1137716480.png\"></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2020/10/2359438592.png\"></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2020/10/3134085559.png\"></p>\n<h2 id=\"ç®¡ç†ç«¯\"><a href=\"#ç®¡ç†ç«¯\" class=\"headerlink\" title=\"ç®¡ç†ç«¯\"></a>ç®¡ç†ç«¯</h2><p><img src=\"https://image.charones.com/usr/uploads/2020/10/2848771081.png\"><br><img src=\"https://image.charones.com/usr/uploads/2020/10/2076109169.png\"></p>\n<p><strong>éƒ¨ç½²æ•™ç¨‹(IDEAéƒ¨ç½²)ï¼š</strong></p>\n<p>1ã€å…ˆä½¿ç”¨gitå°†é¡¹ç›®ä»Githubå…‹éš†ä¸‹æ¥ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨IDEAç›´æ¥å…‹éš†åˆ°æœ¬åœ°å¹¶æ‰“å¼€ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://image.charones.com/2022/Snipaste_2022-01-01_12-16-46.png\"></p>\n<p>2ã€å°†é¡¹ç›®ä¸­çš„ <strong>Shop.sql</strong>  æ”¾åˆ°æ•°æ®åº“ç®¡ç†å·¥å…·ä¸­æ‰§è¡Œï¼Œæ³¨æ„ï¼šæœ¬é¡¹ç›®æ˜¯åŸºäº<strong>Mysql5.x</strong>å¼€å‘çš„ï¼Œå¦‚æœæ˜¯é«˜ç‰ˆæœ¬MySQLï¼Œéœ€è¦è‡ªè¡Œæµ‹è¯•ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„</p>\n<p>3ã€å…‹éš†åˆ°æœ¬åœ°åï¼Œä¸ç”¨å†è¿›è¡Œä»»ä½•å…¶ä½™çš„é…ç½®(<strong>å¼€ç®±å³å¯é£Ÿç”¨ï¼Œä¸ç”¨å¤šä½™é…ç½®</strong>)ï¼ŒåŒ…æ‹¬Tomcatã€‚(æœ¬é¡¹ç›®ä½¿ç”¨çš„æ˜¯åŸºäºmavenå†…åµŒçš„Tomcat7ï¼Œå› æ­¤ä¸éœ€è¦å†å¦è¡Œé…ç½®)</p>\n<p>4ã€é¡¹ç›®æ‰“å¼€åï¼Œç„¶åç­‰åŠ è½½mavenæˆåŠŸåï¼Œå¯ä»¥é€šè¿‡IDEAå·¥å…·å³ä¾§çš„<strong>mavenå¿«æ·æ–¹å¼</strong>è¿è¡Œï¼Œå¦‚ä¸‹å›¾<br><img src=\"https://image.charones.com/2022/Snipaste_2022-01-01_14-33-34.png\"><br>åŒå‡» <strong>tomcat:7run</strong> å³å¯è¿è¡Œ</p>\n<p>PSï¼šå¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åˆ·æ–°ä¸€ä¸‹mavené…ç½®ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„åˆ·æ–°å›¾æ ‡ï¼Œå¦‚ä¸‹å›¾<br><img src=\"https://image.charones.com/2022/Snipaste_2022-01-01_14-37-02.png\"></p>\n<p><strong>è¿è¡Œåæµè§ˆå™¨è¾“å…¥å¦‚ä¸‹å³å¯é¢„è§ˆï¼š</strong></p>\n<p>å‰å°åœ°å€ï¼š<code>http://localhost:8888/Shop-SSM/shop-user/</code></p>\n<p>åå°åœ°å€ï¼š<code>http://localhost:8888/Shop-SSM/admin/</code></p>\n<h2 id=\"è·å–æºç \"><a href=\"#è·å–æºç \" class=\"headerlink\" title=\"è·å–æºç \"></a>è·å–æºç </h2><p>åœ°å€ï¼š<a href=\"https://github.com/Snykta/Shop-SSM\">https://github.com/Snykta/Shop-SSM</a></p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>æ­¤é¡¹ç›®è™½ç„¶æ²¡æœ‰å®Œå–„çš„åŠŸèƒ½ï¼Œä½†åŸºç¡€çš„è¯¥æœ‰çš„è¿˜æ˜¯æœ‰çš„ï¼Œé¡µé¢è™½ç„¶ä¸‘ç‚¹(è¿™ä¸é‡è¦ï¼Œæ‰‹åŠ¨ç‹—å¤´~~)ï¼Œä½†åŠŸèƒ½æ˜¯é€»è¾‘æ˜¯æ­£å¸¸çš„ï¼Œå¯¹äºåˆå­¦SSMæ¡†æ¶è¿˜æ˜¯æœ‰æˆ–å¤šæˆ–å°‘çš„å¸®åŠ©çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨æ­¤é¡¹ç›®åŸºç¡€ä¸Šè¿›è¡Œå®Œå–„ï¼ŒäºŒæ¬¡å¼€å‘ï¼Œè¿™éƒ½æ˜¯å¯ä»¥çš„ã€‚</p>\n<blockquote>\n<p>è€éª¥ä¼æ¥ï¼Œå¿—åœ¨åƒé‡Œã€‚</p>\n</blockquote>\n","categories":["JavaWebé¡¹ç›®"],"tags":["JavaWeb"]},{"title":"IDEAä¸­mavenæ„å»ºçš„SSMé¡¹ç›®mapperç»‘å®šå¤±è´¥","url":"/archives/60.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/09/2483435586.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä¹‹å‰å¼€å‘Webé¡¹ç›®ä¸€ç›´æ˜¯ç”¨eclipseæ¥å¼€å‘ï¼ŒIDEAä¹Ÿç”¨è¿‡ï¼Œä½†ä¸€ç›´ç”¨å®ƒæ¥å†™ä¸€äº›å°é¡¹ç›®(éwebé¡¹ç›®)ï¼Œä»Šå¤©çªç„¶æƒ³ç”¨IDEAæ¥å¼€å‘webé¡¹ç›®ï¼Œäºæ˜¯è¯´å¹²å°±å¹²ï¼Œåœºæ™¯ï¼šåˆ©ç”¨mavenæ„å»ºä¸€ä¸ªSSMé¡¹ç›®ã€‚ä¸€é¡¿é…ç½®æ“ä½œåæŠŠé¡¹ç›®æ„å»ºæˆäº†ï¼Œå¯å½“æµ‹è¯•æ—¶å´å‡ºç°äº†é—®é¢˜ï¼ŒMybatisçš„Mapperä¸€ç›´ç»‘å®šä¸ä¸Šï¼Œä¸€ç›´æŠ¥é”™ã€‚</p>\n<hr>\n<h2 id=\"Bug\"><a href=\"#Bug\" class=\"headerlink\" title=\"Bug\"></a>Bug</h2><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/09/2979408028.png\"></p>\n<p>ä¸€ç›´æç¤ºæç¤ºï¼šInvalid bound statement (not found)ï¼Œæ„æ€ä¸ºç»‘å®šè¯­å¥é”™è¯¯ï¼Œæ‰¾ä¸åˆ°è¯¥æ–¹æ³•ã€‚</p>\n<h2 id=\"åˆ†æ\"><a href=\"#åˆ†æ\" class=\"headerlink\" title=\"åˆ†æ\"></a>åˆ†æ</h2><p>å› ä¸ºä¹‹å‰ä¸€ç›´ç”¨eclipseæ¥å¼€å‘ï¼Œè¿™ä¸ªé—®é¢˜è¿˜æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ï¼Œé¦–å…ˆæˆ‘å…ˆæƒ³åˆ°æ˜¯ä¸æ˜¯é…ç½®æ–‡ä»¶é”™è¯¯ï¼Œäºæ˜¯æŠŠé…ç½®æ–‡ä»¶é€ä¸ªæ’æŸ¥ï¼Œç»è¿‡ä¸€ç³»åˆ—æµ‹è¯•æ’æŸ¥ï¼Œå‘ç°é…ç½®æ–‡ä»¶å¹¶æ²¡æœ‰é”™è¯¯ã€‚æ²¡é—®é¢˜ååˆå¯¹ä»£ç ç»è¿‡ä¸€ç³»åˆ—çš„æ£€æŸ¥ï¼Œå¯ä¹Ÿè¿˜æ˜¯æ²¡æœ‰å‘ç°é—®é¢˜ã€‚<br><strong>çŒœæƒ³</strong><br>æ­£å½“æˆ‘ä¸€ç­¹è«å±•æ—¶ï¼Œçªç„¶æƒ³åˆ°æ˜¯ä¸æ˜¯IDEAæŠŠé¡¹ç›®ç¼–è¯‘åé‚£äº›xmlé…ç½®æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„çš„é—®é¢˜ï¼Œå› ä¸ºIDEAæ˜ç¡®äº†æºç å’Œèµ„æºæ–‡ä»¶çš„æ”¾ç½®ä½ç½®ï¼ˆmavené¡¹ç›®ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´æºç å°±è¦ä¼šè¢«ç¼–è¯‘ï¼Œä½†å½“æˆ‘æŠŠxmlæ–‡ä»¶æ”¾åœ¨javaç›®å½•ä¸‹çš„mianç›®å½•ä¸­æˆ‘çŒœæƒ³æ˜¯ä¸æ˜¯æ²¡è¢«ç¼–è¯‘åˆ°classesä¸­ï¼Œæ‰å¯¼è‡´æ‰¾ä¸åˆ°æ–¹æ³•ã€‚</p>\n<h2 id=\"è§£å†³æ–¹æ³•\"><a href=\"#è§£å†³æ–¹æ³•\" class=\"headerlink\" title=\"è§£å†³æ–¹æ³•\"></a>è§£å†³æ–¹æ³•</h2><p>åœ¨pom.xmlçš„<build>æ ‡ç­¾ä¸‹ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--ç¼–è¯‘resourcesä¸‹çš„é…ç½®ï¼Œä¾‹å¦‚Springçš„é…ç½®--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--ç¼–è¯‘javaä¸‹çš„é…ç½®ï¼Œä¾‹å¦‚Mybatisçš„Mapper--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/java<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span>  </span><br></pre></td></tr></table></figure>\n<p>æ„æ€ä¸ºï¼šxmlé…ç½®æ–‡ä»¶éšåŒjavaç¼–è¯‘åçš„classæ–‡ä»¶ä¸€åŒcopyåˆ°ç›¸åº”çš„classç›®å½•</p>\n<p><strong>ç»“æœ</strong><br>ç»è¿‡æµ‹è¯•æœç„¶å’Œæˆ‘çŒœæƒ³çš„ä¸€æ ·ï¼Œæœ€åè¿è¡ŒæˆåŠŸï¼Œæ–¹æ³•æˆåŠŸè¢«è°ƒç”¨ã€‚</p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>eclipseç¼–è¯‘é¡¹ç›®ä¼šè‡ªåŠ¨å°†xmlé…ç½®æ–‡ä»¶ç¼–è¯‘è¿›classes,IDEAå´ä¸è¡Œï¼Œçœ‹æ¥è¿˜æ˜¯å¯¹IDEAçš„ä½¿ç”¨ä¸ç†Ÿç»ƒï¼Œä¹‹å‰ä¸€ç›´ç”¨eclipseå¼€å‘ï¼Œä¸ç»å¸¸ç”¨IDEAï¼Œçªç„¶æ¢ä¸ªå¼€å‘å·¥å…·å‡ºç°äº†å¤ªå¤šé—®é¢˜ï¼Œè¿˜æ˜¯ä¸å¤Ÿç†Ÿç»ƒï¼Œé©å‘½è¿˜æœªèƒœåˆ©ï¼ŒåŒå¿—è¿˜é¡»å†åŠªåŠ›ã€‚</p>\n","categories":["maven"],"tags":["maven","IDEA"]},{"title":"ä½¿ç”¨gitå°†æœ¬åœ°æºç ä¸Šä¼ åˆ°github","url":"/archives/51.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/09/3269077972.jpg\"></p>\n<span id=\"more\"></span>\n\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å¤§å¤§å°å°çš„é¡¹ç›®ä¹Ÿåšäº†å¾ˆå¤šé¡¹ç›®ï¼Œä½†ä¸€ç›´éƒ½æ˜¯åœ¨ç”µè„‘æœ¬åœ°å­˜å‚¨ï¼Œè€Œä»Šçªç„¶æƒ³æŠŠè¿™äº›é¡¹ç›®æ‰˜ç®¡åˆ°githubä¸Šï¼Œäºæ˜¯å°±æ•´ç†äº†è¿™ç¯‡æ–‡ç« ï¼Œåˆ©ç”¨gitå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°GitHubä»“åº“ä¸­ã€‚</p>\n<hr>\n<h2 id=\"Gitç®€ä»‹\"><a href=\"#Gitç®€ä»‹\" class=\"headerlink\" title=\"Gitç®€ä»‹\"></a>Gitç®€ä»‹</h2><p>Gitæ˜¯ä¸€ä¸ª<strong>åˆ†å¸ƒå¼</strong>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºå¯¹é¡¹ç›®çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œå½“ç„¶ä¹Ÿæœ‰<strong>é›†ä¸­å¼</strong>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ¯”å¦‚ï¼šSVNã€‚æœ€åˆ Git çš„å¼€å‘æ˜¯ä¸ºäº†è¾…åŠ© Linux å†…æ ¸å¼€å‘çš„è¿‡ç¨‹ï¼Œåæ¥æ…¢æ…¢çš„åœ¨å¾ˆå¤šå…¶ä»–è‡ªç”±è½¯ä»¶é¡¹ç›®ä¸­ä¹Ÿä½¿ç”¨äº† Gitã€‚</p>\n<h2 id=\"ä½•ä¸ºGitHub\"><a href=\"#ä½•ä¸ºGitHub\" class=\"headerlink\" title=\"ä½•ä¸ºGitHub\"></a>ä½•ä¸ºGitHub</h2><p>gitHubæ˜¯å›½å¤–çš„ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒgit ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡ï¼Œæ•…ågitHubã€‚å›½å†…çš„ä¹Ÿæœ‰æ‰˜ç®¡å¹³å°ï¼Œæ¯”å¦‚ï¼šç äº‘ï¼ˆGiteeï¼‰ã€‚</p>\n<h2 id=\"Githubæ“ä½œ\"><a href=\"#Githubæ“ä½œ\" class=\"headerlink\" title=\"Githubæ“ä½œ\"></a><strong>Githubæ“ä½œ</strong></h2><p>å…ˆåœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç›®çš„æ˜¯ç”¨äºæŠŠæœ¬åœ°çš„é¡¹ç›®ä¸Šä¼ åˆ°è¯¥è¿œç¨‹ä»“åº“ä¸­ï¼Œåœ¨æ­¤å¼•ç”¨ç½‘ä¸Šçš„ä¸€å¼ å›¾ï¼ˆçœ‹åä¸€ç›®äº†ç„¶ï¼‰å¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img-blog.csdn.net/20180704092925840?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3NzI1MDAz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\"></p>\n<h2 id=\"Gitæ“ä½œ\"><a href=\"#Gitæ“ä½œ\" class=\"headerlink\" title=\"Gitæ“ä½œ\"></a><strong>Gitæ“ä½œ</strong></h2><p><strong>ç¬¬ä¸€æ­¥</strong><br>æ‰“å¼€Git Bashï¼Œåœ¨å‘½ä»¤è¡Œä¸­cdè¿›å…¥é¡¹ç›®ç›®å½•ä¸­<br><img src=\"https://image.charones.com/usr/uploads/2019/09/562919979.png\"><br>è¿›å…¥åè¾“å…¥å‘½ä»¤ï¼š</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"keyword\">init</span></span><br></pre></td></tr></table></figure>\n<p>ä½œç”¨ï¼šåœ¨å½“å‰é¡¹ç›®çš„ç›®å½•ä¸­ç”Ÿæˆæœ¬åœ°çš„gitç®¡ç†ï¼ˆä¼šåœ¨å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª.gitæ–‡ä»¶å¤¹ï¼‰</p>\n<p><strong>ç¬¬äºŒæ­¥</strong><br>è¾“å…¥å‘½ä»¤ï¼š</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"builtin-name\">add</span> .</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/181607367.png\"><br>ä½œç”¨ï¼šå°†é¡¹ç›®ä¸Šæ‰€æœ‰çš„æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­çš„æ„æ€ï¼Œå¦‚æœæƒ³æ·»åŠ æŸä¸ªç‰¹å®šçš„æ–‡ä»¶ï¼Œåªéœ€æŠŠ.æ¢æˆè¿™ä¸ªç‰¹å®šçš„æ–‡ä»¶åå³å¯</p>\n<p><strong>ç¬¬ä¸‰æ­¥</strong><br>è¾“å…¥å‘½ä»¤ï¼š</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">git</span> commit -m <span class=\"string\">&quot;æäº¤æ›´æ–°&quot;</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/830437848.png\"><br>ä½œç”¨ï¼šè¡¨ç¤ºä½ å¯¹è¿™æ¬¡æäº¤çš„æ³¨é‡Šï¼ŒåŒå¼•å·é‡Œé¢çš„å†…å®¹å¯ä»¥æ ¹æ®ä¸ªäººçš„éœ€è¦<br>æ”¹ã€‚</p>\n<p><em><strong>è¾“å…¥å®Œåä¼šå‡ºç°è¾“å…¥è‡ªå·±çš„è´¦å·æˆ–è€…å§“åçš„æç¤ºï¼Œå¦‚å›¾ï¼š</strong></em></p>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/3339086964.png\"><br>è¿™æ—¶ç”¨ä¸Šé¢æç¤ºçš„ä»£ç è¾“å…¥è‡ªå·±çš„é‚®ç®±æˆ–åå­—ã€‚<br>å¦‚å‘½ä»¤ï¼š</p>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"code\"><pre><span class=\"line\">git remote <span class=\"keyword\">add </span><span class=\"keyword\">origin </span>&lt;è¿œç¨‹githubåœ°å€&gt;</span><br></pre></td></tr></table></figure>\n<p>&lt;&gt;ä¸­ä¸ºè¿œç¨‹åœ°å€ï¼Œå®é™…è¾“å…¥å‘½ä»¤æ²¡æœ‰&lt;&gt;ç¬¦å·ï¼Œåé¢ç›´æ¥è·Ÿåœ°å€</p>\n<p>è¾“å…¥åå†è¾“å…¥git commit -m â€œæäº¤æ›´æ–°â€å‘½ä»¤æ—¶å°±ä¼šæˆåŠŸã€‚</p>\n<p><strong>ç¬¬å››æ­¥</strong><br>è¾“å…¥å‘½ä»¤ï¼š</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">push</span> -u <span class=\"built_in\">origin</span> master</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://image.charones.com/usr/uploads/2019/09/252055681.png\"><br>ä½œç”¨ï¼šå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°è¿œç¨‹GitHubä»“åº“ä¸­<br>è¿™æ˜¯å¦‚æœåœ¨è¿œç¨‹é¡¹ç›®ä¸­æœ‰å­˜åœ¨çš„æ–‡ä»¶ï¼Œåˆ™éœ€è¦å…ˆå°†è¿œç¨‹ä»“åº“ä¸­é¡¹ç›®ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå†è¿›è¡Œæäº¤ï¼Œä¹Ÿå°±æ˜¯å…ˆ<strong>æ›´æ–°å†æäº¤</strong>ï¼Œä¸ç„¶å°±ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼Œå¦‚å›¾ï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/09/2980647582.png\"><br>è¿™å°±æ˜¯ç‰ˆæœ¬ä¸ä¸€è‡´é€ æˆçš„ï¼Œè¿™æ—¶éœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"code\"><pre><span class=\"line\">git pull <span class=\"comment\">--rebase origin master</span></span><br></pre></td></tr></table></figure>\n<p>ä½œç”¨ï¼šæŠ“å–å¹¶åˆå¹¶è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</p>\n<p>æœ€åå†æ‰§è¡Œä¸Šä¼ å‘½ä»¤åˆ™å°±æˆåŠŸå°†é¡¹ç›®ä¸Šä¼ åˆ°GitHubä»“åº“ä¸­<br>å¦‚å›¾ï¼š<br><img src=\"https://image.charones.com/usr/uploads/2019/09/43087761.png\"></p>\n<h2 id=\"ç»“è¨€\"><a href=\"#ç»“è¨€\" class=\"headerlink\" title=\"ç»“è¨€\"></a>ç»“è¨€</h2><p>ä»¥ä¸Šå°±æ˜¯åˆ©ç”¨Gitå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°GitHubçš„è¿‡ç¨‹ï¼Œå…¶å®å¾ˆæ—©å°±ç”¨Gitå°†é¡¹ç›®ä¸Šä¼ åˆ°GitHubä¸­äº†ï¼Œä½†å¯¹è¿™å¥—æµç¨‹ä¸€ç›´æ²¡åšè¿‡æ€»ç»“ä¸è®°å½•ï¼Œæ…¢æ…¢çš„æœ‰æ—¶ä¼šé—å¿˜ä¸€äº›å‘½ä»¤çš„ä½¿ç”¨ï¼Œäºæ˜¯å†™ä¸‹è¿™ç¯‡æ–‡ç« ä½œä¸ºè®°å½•ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œä»¥ä¾¿æ—¥åæŸ¥çœ‹ä¸è®°å¿†ã€‚</p>\n","categories":["Git"],"tags":["Git"]},{"title":"SpringBootå‘åå°ä¼ å‚çš„è‹¥å¹²ç§æ–¹å¼","url":"/archives/84.html","content":"<p><img src=\"https://image.charones.com/usr/uploads/2019/11/3476319186.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>è¯´åˆ°<strong>ä¼ å‚</strong>è‚¯å®šå¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œä»äº‹å¼€å‘çš„æ›´å¯ä»¥å¯ä»¥è¯´æ˜¯å¤©å¤©é‡åˆ°äº†ï¼Œè¿™ç¯‡æ–‡ç« ä¹Ÿå°±æ˜¯ä¸»è¦è®°å½•ä»¥ä¸‹ä¼ å‚çš„å„ç§æ–¹å¼ï¼Œå› ä¸ºç»å¸¸ä½¿ç”¨çš„æ˜¯SpringBootæ¥å¼€å‘ï¼Œæ‰€ä»¥å°±æ‹¿SpringBootæ¥ä¸¾ä¾‹ï¼Œè®°å½•å‰ç«¯å‘åç«¯ä¼ å‚çš„è‹¥å¹²ç§æ–¹å¼ã€‚</p>\n<h2 id=\"æ™®é€šä¼ å‚-å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸€è‡´\"><a href=\"#æ™®é€šä¼ å‚-å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸€è‡´\" class=\"headerlink\" title=\"æ™®é€šä¼ å‚(å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸€è‡´)\"></a>æ™®é€šä¼ å‚(å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸€è‡´)</h2><p><strong>å‰ç«¯ä»£ç ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;name&quot;</span> : <span class=\"string\">&quot;å¼ ä¸‰&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">$(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items.do&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">        <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/items&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(name);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åå°ç»“æœï¼š</strong>name=å¼ ä¸‰</p>\n<h2 id=\"æ™®é€šä¼ å‚-å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸ä¸€è‡´\"><a href=\"#æ™®é€šä¼ å‚-å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸ä¸€è‡´\" class=\"headerlink\" title=\"æ™®é€šä¼ å‚(å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸ä¸€è‡´)\"></a>æ™®é€šä¼ å‚(å‰ç«¯å‚æ•°ä¸åç«¯å½¢å‚åç§°ä¸ä¸€è‡´)</h2><p><strong>å‰ç«¯ä»£ç ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;dcc&quot;</span> : <span class=\"string\">&quot;æå››&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items2.do&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">        <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items2&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon2</span><span class=\"params\">(<span class=\"meta\">@RequestParam(&quot;dcc&quot;)</span> String name)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(name);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å½“å‰ç«¯å‚æ•°åç§°å’Œåç«¯ä¸ä¸€è‡´æ—¶å¯ä»¥ä½¿ç”¨RequestParamæ³¨è§£ï¼Œè¯·æ±‚å‚æ•°çš„å‚æ•°å,å¯ä»¥ä½œä¸ºå‚æ•°æ˜ å°„åç§°<br><strong>åå°ç»“æœï¼š</strong>name=æå››</p>\n<h2 id=\"pojoå®ä½“ç±»ä¼ å‚\"><a href=\"#pojoå®ä½“ç±»ä¼ å‚\" class=\"headerlink\" title=\"pojoå®ä½“ç±»ä¼ å‚\"></a>pojoå®ä½“ç±»ä¼ å‚</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">var param = &#123;</span><br><span class=\"line\">    &quot;users&quot; : &quot;è´¦æˆ·&quot;,</span><br><span class=\"line\">    &quot;password&quot; : &quot;å¯†ç &quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">$(&#x27;#btn&#x27;).click(function () &#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        url : &#x27;/WeChart/items3.do&#x27;,</span><br><span class=\"line\">        type : &#x27;post&#x27;,</span><br><span class=\"line\">        data : param,</span><br><span class=\"line\">        dataType : &#x27;json&#x27;,</span><br><span class=\"line\">        success : function (m) &#123;</span><br><span class=\"line\">            console.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items3&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon3</span><span class=\"params\">(Pusers pusers)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(pusers.getUsers());</span><br><span class=\"line\">    logger.info(pusers.getPassword());</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>å®ä½“ç±»ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Pusers</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String users;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\">    <span class=\"comment\">//çœç•¥get/setæ–¹æ³•</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å‰ç«¯å‚æ•°åç§°å¯¹åº”å®ä½“ç±»ä¸­çš„å±æ€§åç§°ï¼Œåç«¯å½¢å‚å¯ä»¥ç›´æ¥ç”¨å®ä½“ç±»æ¥è¡¨ç¤º<br><strong>åå°ç»“æœï¼š</strong>users=è´¦æˆ·ï¼Œpassword=å¯†ç </p>\n<h2 id=\"å¤šå‚æ— å®ä½“ç±»ä¼ å‚ä¸€\"><a href=\"#å¤šå‚æ— å®ä½“ç±»ä¼ å‚ä¸€\" class=\"headerlink\" title=\"å¤šå‚æ— å®ä½“ç±»ä¼ å‚ä¸€\"></a>å¤šå‚æ— å®ä½“ç±»ä¼ å‚ä¸€</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;users&quot;</span> : <span class=\"string\">&quot;è´¦æˆ·&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;password&quot;</span> : <span class=\"string\">&quot;å¯†ç &quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;name&quot;</span> : <span class=\"string\">&quot;æˆ‘çš„åå­—&quot;</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">param = <span class=\"built_in\">JSON</span>.stringify(param);<span class=\"comment\">//å°†å¯¹è±¡è½¬ä¸ºjsonä¸²</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items4.do&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">contentType</span> : <span class=\"string\">&quot;application/json;charset=UTF-8&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">        <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">           <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items4&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon4</span><span class=\"params\">(<span class=\"meta\">@RequestBody</span> String map)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(map);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ç»“æœï¼š</strong>{â€œusersâ€:â€è´¦æˆ·â€,â€passwordâ€:â€å¯†ç â€,â€nameâ€:â€æˆ‘çš„åå­—â€}</p>\n<h2 id=\"å¤šå‚æ— å®ä½“ç±»ä¼ å‚äºŒ\"><a href=\"#å¤šå‚æ— å®ä½“ç±»ä¼ å‚äºŒ\" class=\"headerlink\" title=\"å¤šå‚æ— å®ä½“ç±»ä¼ å‚äºŒ\"></a>å¤šå‚æ— å®ä½“ç±»ä¼ å‚äºŒ</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;users&quot;</span> : <span class=\"string\">&quot;è´¦æˆ·&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;password&quot;</span> : <span class=\"string\">&quot;å¯†ç &quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;name&quot;</span> : <span class=\"string\">&quot;æˆ‘çš„åå­—&quot;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items5.do&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">        <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">           <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items5&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon5</span><span class=\"params\">(<span class=\"meta\">@RequestParam</span> Map&lt;String, Object&gt; map)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(map.toString());</span><br><span class=\"line\">    logger.info((String) map.get(<span class=\"string\">&quot;name&quot;</span>));</span><br><span class=\"line\">    logger.info((String) map.get(<span class=\"string\">&quot;users&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ç»“æœï¼š</strong>{users=è´¦æˆ·, password=å¯†ç , name=æˆ‘çš„åå­—}ï¼Œæˆ‘çš„åå­—ï¼Œè´¦æˆ·</p>\n<h2 id=\"ä¼ é€’æ•°ç»„\"><a href=\"#ä¼ é€’æ•°ç»„\" class=\"headerlink\" title=\"ä¼ é€’æ•°ç»„\"></a>ä¼ é€’æ•°ç»„</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">   <span class=\"string\">&quot;ids&quot;</span> : [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items6.do&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">        <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">           <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items6&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon6</span><span class=\"params\">(<span class=\"meta\">@RequestParam(value = &quot;ids[]&quot;)</span> Integer[] ids)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(<span class=\"string\">&quot;æ•°æ®ï¼š&#123;&#125;&quot;</span>, Arrays.asList(ids));</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ç»“æœï¼š</strong>[1, 2, 3]</p>\n<h2 id=\"ä¼ é€’é›†åˆ\"><a href=\"#ä¼ é€’é›†åˆ\" class=\"headerlink\" title=\"ä¼ é€’é›†åˆ\"></a>ä¼ é€’é›†åˆ</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> param = &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;ids&quot;</span> : [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">   &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">   $(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       $.ajax(&#123;</span><br><span class=\"line\">           <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items7.do&#x27;</span>,</span><br><span class=\"line\">           <span class=\"attr\">data</span> : param,</span><br><span class=\"line\">           <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">           <span class=\"attr\">dataType</span> : <span class=\"string\">&#x27;json&#x27;</span>,</span><br><span class=\"line\">           <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">              <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;)</span><br><span class=\"line\">   &#125;)</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items7&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon7</span><span class=\"params\">(<span class=\"meta\">@RequestParam(value = &quot;ids[]&quot;)</span> List&lt;Integer&gt; ids)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(<span class=\"string\">&quot;æ•°æ®ï¼š&#123;&#125;&quot;</span>, ids.toString());</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ç»“æœï¼š</strong>[1, 2, 3]</p>\n<h2 id=\"ä¼ é€’å¤æ‚æ€§å‚æ•°\"><a href=\"#ä¼ é€’å¤æ‚æ€§å‚æ•°\" class=\"headerlink\" title=\"ä¼ é€’å¤æ‚æ€§å‚æ•°\"></a>ä¼ é€’å¤æ‚æ€§å‚æ•°</h2><p><strong>å‰ç«¯ä»£ç </strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> dcc = [];</span><br><span class=\"line\">   <span class=\"keyword\">var</span> lists = [&#123;</span><br><span class=\"line\">       <span class=\"string\">&quot;users&quot;</span> : <span class=\"string\">&quot;å¼ ä¸‰1&quot;</span>,</span><br><span class=\"line\">       <span class=\"string\">&quot;password&quot;</span> : <span class=\"string\">&quot;å¯†ç 1&quot;</span></span><br><span class=\"line\">   &#125;,&#123;</span><br><span class=\"line\">       <span class=\"string\">&quot;users&quot;</span> : <span class=\"string\">&quot;å¼ ä¸‰2&quot;</span>,</span><br><span class=\"line\">       <span class=\"string\">&quot;password&quot;</span> : <span class=\"string\">&quot;å¯†ç 2&quot;</span></span><br><span class=\"line\">   &#125;];</span><br><span class=\"line\">   <span class=\"keyword\">var</span> user =&#123;</span><br><span class=\"line\">       <span class=\"string\">&quot;username&quot;</span> : <span class=\"string\">&quot;å¼ ä¸‰&quot;</span></span><br><span class=\"line\">   &#125;;</span><br><span class=\"line\">   user.lists = lists;<span class=\"comment\">//å‘å¯¹è±¡ç§æ·»åŠ æ–°å±æ€§</span></span><br><span class=\"line\">   dcc.push(user);</span><br><span class=\"line\">   $(<span class=\"string\">&#x27;#btn&#x27;</span>).click(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       $.ajax(&#123;</span><br><span class=\"line\">           <span class=\"attr\">url</span> : <span class=\"string\">&#x27;/WeChart/items9.do&#x27;</span>,</span><br><span class=\"line\">           <span class=\"attr\">data</span> : <span class=\"built_in\">JSON</span>.stringify(dcc),</span><br><span class=\"line\">          <span class=\"attr\">contentType</span> : <span class=\"string\">&quot;application/json&quot;</span>,</span><br><span class=\"line\">           <span class=\"attr\">type</span> : <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">           <span class=\"attr\">success</span> : <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">m</span>) </span>&#123;</span><br><span class=\"line\">              <span class=\"built_in\">console</span>.log(m)</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;)</span><br><span class=\"line\">   &#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ä»£ç </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@PostMapping(&quot;/items9&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">charon9</span><span class=\"params\">(<span class=\"meta\">@RequestBody</span> String maps)</span> </span>&#123;</span><br><span class=\"line\">    logger.info(<span class=\"string\">&quot;æ•°æ®ï¼š&#123;&#125;&quot;</span>, maps);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;test&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>åç«¯ç»“æœï¼š</strong>[{â€œusernameâ€:â€å¼ ä¸‰â€,â€listsâ€:[{â€œusersâ€:â€å¼ ä¸‰1â€,â€passwordâ€:â€å¯†ç 1â€},{â€œusersâ€:â€å¼ ä¸‰2â€,â€passwordâ€:â€å¯†ç 2â€}]}]</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><ol>\n<li>@RequestBodyæ³¨è§£ï¼Œå¿…é¡»ä¸contentTypeÂ ç±»å‹application/jsoné…åˆä½¿ç”¨</li>\n<li>@RequestParamæ³¨è§£ï¼Œå¿…é¡»ä¸contentTypç±»å‹application/x-www-form-urlencodedé…åˆä½¿ç”¨ï¼Œå…¶ä¸ºé»˜è®¤ç±»å‹ã€‚</li>\n<li>JSON.stringify()æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œé…åˆ@RequestBodyæ³¨è§£å’ŒcontentTypeÂ ç±»å‹application/jsonä½¿ç”¨ã€‚</li>\n</ol>\n<p><em><strong>ä»¥ä¸Šå°±æ˜¯Springbootä¼ é€’å‚æ•°çš„å‡ ç§ä¸¾ä¾‹ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ç»è¿‡åšä¸»å®é™…æµ‹è¯•é€šè¿‡çš„ï¼Œåœ¨æ­¤åˆ†äº«åŒæ—¶ä¹Ÿç®—æ˜¯åšä¸ªè®°å½•ã€‚</strong></em></p>\n","categories":["SpringBoot"],"tags":["SpringBoot"]},{"title":"JDK8æ–°ç‰¹æ€§ä¹‹Streamæµçš„å¸¸ç”¨æ–¹æ³•","url":"/archives/22032708.html","content":"<p><img src=\"https://image.charones.com/2022/03/202203282055047.jpg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨Jdk1.8ä¸­åŒ…å«äº†å¾ˆå¤šçš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼š <strong>Lambdaè¡¨è¾¾å¼</strong> ã€<strong>æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</strong>ã€<strong>æ–¹æ³•å¼•ç”¨</strong>ã€<strong>Optional</strong>ã€<strong>Stream</strong>ç­‰å¾ˆå¤šçš„æ–°ç‰¹æ€§æˆ–è€…è¯­æ³•ç³–ï¼Œè€Œä»Šå¤©è¿™ç¯‡æ–‡ç« ç€é‡è®²è§£ä¸€ä¸‹  <strong>Stream</strong>  æµç›¸å…³çš„å¸¸ç”¨æ–¹æ³•ã€‚</p>\n<h2 id=\"ä½•ä¸ºStreamæµ\"><a href=\"#ä½•ä¸ºStreamæµ\" class=\"headerlink\" title=\"ä½•ä¸ºStreamæµ\"></a>ä½•ä¸ºStreamæµ</h2><ul>\n<li>Java 8 APIæ·»åŠ äº†ä¸€ä¸ªæ–°çš„æŠ½è±¡ç§°ä¸ºæµStreamï¼Œå¯ä»¥è®©ä½ ä»¥ä¸€ç§å£°æ˜çš„æ–¹å¼å¤„ç†æ•°æ®ã€‚</li>\n<li>Stream ä½¿ç”¨ä¸€ç§ç±»ä¼¼ç”¨ SQL è¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„ç›´è§‚æ–¹å¼æ¥æä¾›ä¸€ç§å¯¹ Java é›†åˆè¿ç®—å’Œè¡¨è¾¾çš„é«˜é˜¶æŠ½è±¡ã€‚</li>\n<li>Stream APIå¯ä»¥æå¤§æé«˜Javaç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©ç¨‹åºå‘˜å†™å‡ºé«˜æ•ˆç‡ã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚</li>\n<li>è¿™ç§é£æ ¼å°†è¦å¤„ç†çš„å…ƒç´ é›†åˆçœ‹ä½œä¸€ç§æµï¼Œ æµåœ¨ç®¡é“ä¸­ä¼ è¾“ï¼Œ å¹¶ä¸”å¯ä»¥åœ¨ç®¡é“çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œå¤„ç†ï¼Œ æ¯”å¦‚ç­›é€‰ï¼Œ æ’åºï¼Œèšåˆç­‰ã€‚</li>\n<li>å…ƒç´ æµåœ¨ç®¡é“ä¸­ç»è¿‡ä¸­é—´æ“ä½œï¼ˆintermediate operationï¼‰çš„å¤„ç†ï¼Œæœ€åç”±æœ€ç»ˆæ“ä½œ(terminal operation)å¾—åˆ°å‰é¢å¤„ç†çš„ç»“æœã€‚</li>\n</ul>\n<h2 id=\"æ¡ˆä¾‹é›†é”¦\"><a href=\"#æ¡ˆä¾‹é›†é”¦\" class=\"headerlink\" title=\"æ¡ˆä¾‹é›†é”¦\"></a>æ¡ˆä¾‹é›†é”¦</h2><p><em>æ³¨æ„</em>ä¸€ï¼š<strong>é¦–å…ˆæˆ‘ä»¬å…ˆé¢„å…ˆå®šä¹‰ä¸€ä¸ªå®ä½“ç±»ï¼ŒStudentç±»ï¼Œé‡Œé¢æœ‰å§“åã€å¹´é¾„ç­‰è‹¥å¹²ä¸ªå±æ€§ï¼Œè€Œä¸‹é¢çš„æ‰€æœ‰æ¡ˆä¾‹å…¨éƒ½åŸºäºæ­¤å®ä½“ç±»åšè®²è§£ï¼</strong></p>\n<p><em>æ³¨æ„äºŒ</em>ï¼š<strong>æ ¹æ®è¿™ä¸ªå®ä½“ç±»ï¼Œæˆ‘ä»¬newå‡ºä¸‰ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶è®¾ç½®å„è‡ªçš„å±æ€§ï¼Œç„¶åæ·»åŠ åˆ°äº†<code>studentList</code> é›†åˆä¸­ï¼Œä»¥ä¸‹æ‰€æœ‰æ¡ˆä¾‹ï¼Œå…¨éƒ¨åŸºäºæ­¤é›†åˆè®²è§£ï¼</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å§“å</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"comment\">// å¹´é¾„</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"comment\">// æ€§åˆ« 1-ç”· 0-å¥³</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Short sex;</span><br><span class=\"line\">    <span class=\"comment\">// ä½“é‡ å•ä½-g</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> BigDecimal weight;</span><br><span class=\"line\">    <span class=\"comment\">// çˆ±å¥½</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;String&gt; likeList;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// ....å¿½ç•¥get/setï¼Œè‡ªå·±æµ‹è¯•è¯·è®°å¾—æ·»åŠ </span></span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// å­¦ç”Ÿå¯¹è±¡é›†åˆ</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> List&lt;Student&gt; studentList = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"comment\">// å¾€é›†åˆæ·»åŠ æ•°æ®</span></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        Student student1 = <span class=\"keyword\">new</span> Student();</span><br><span class=\"line\">        student1.setName(<span class=\"string\">&quot;å°æ˜&quot;</span>);</span><br><span class=\"line\">        student1.setAge(<span class=\"number\">15</span>);</span><br><span class=\"line\">        student1.setSex(Short.parseShort(<span class=\"string\">&quot;1&quot;</span>));</span><br><span class=\"line\">        student1.setWeight(<span class=\"keyword\">new</span> BigDecimal(<span class=\"string\">&quot;60&quot;</span>));</span><br><span class=\"line\">       \tstudent1.setLikeList(Arrays.asList(<span class=\"string\">&quot;ç¾½æ¯›çƒ&quot;</span>,<span class=\"string\">&quot;ç¯®çƒ&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        Student student2 = <span class=\"keyword\">new</span> Student();</span><br><span class=\"line\">        student2.setName(<span class=\"string\">&quot;å°æ˜&quot;</span>);</span><br><span class=\"line\">        student2.setAge(<span class=\"number\">18</span>);</span><br><span class=\"line\">        student2.setSex(Short.parseShort(<span class=\"string\">&quot;1&quot;</span>));</span><br><span class=\"line\">        student2.setWeight(<span class=\"keyword\">new</span> BigDecimal(<span class=\"string\">&quot;65&quot;</span>));</span><br><span class=\"line\">        student2.setLikeList(Arrays.asList(<span class=\"string\">&quot;æ’çƒ&quot;</span>,<span class=\"string\">&quot;è¶³çƒ&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        Student student3 = <span class=\"keyword\">new</span> Student();</span><br><span class=\"line\">        student3.setName(<span class=\"string\">&quot;å°çº¢&quot;</span>);</span><br><span class=\"line\">        student3.setAge(<span class=\"number\">10</span>);</span><br><span class=\"line\">        student3.setSex(Short.parseShort(<span class=\"string\">&quot;0&quot;</span>));</span><br><span class=\"line\">        student3.setWeight(<span class=\"keyword\">new</span> BigDecimal(<span class=\"string\">&quot;55&quot;</span>));</span><br><span class=\"line\">        student3.setLikeList(Arrays.asList(<span class=\"string\">&quot;è¶³çƒ&quot;</span>,<span class=\"string\">&quot;ä¹’ä¹“çƒ&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        studentList.add(student1);</span><br><span class=\"line\">        studentList.add(student2);</span><br><span class=\"line\">        studentList.add(student3);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>1ã€åªå•å–å‡ºå§“åå±æ€§å¹¶å»é‡è¿”å›ç»“æœ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">List&lt;String&gt; nameList = studentList.stream().map(Student::getName).distinct().collect(Collectors.toList());</span><br><span class=\"line\">System.out.println(nameList);</span><br></pre></td></tr></table></figure>\n\n<p><strong>2ã€å–å‡ºå¹´é¾„æœ€å¤§çš„å­¦ç”Ÿ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Student student = studentList.stream().max(Comparator.comparing(Student::getAge)).orElse(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">System.out.println(student);</span><br></pre></td></tr></table></figure>\n\n<p><strong>3ã€è®¡ç®—å‡ºæ€§åˆ«ä¸ºç”·(sex == 1)çš„å­¦ç”Ÿæ€»æ•°</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">long</span> count = studentList.stream().filter(e -&gt; e.getSex().equals(Short.parseShort(<span class=\"string\">&quot;1&quot;</span>))).count();</span><br><span class=\"line\">System.out.println(count);</span><br></pre></td></tr></table></figure>\n\n<p><strong>4ã€åˆ†åˆ«è®¡ç®—ä½“é‡å’Œå¹´é¾„çš„æ€»å’Œ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä½“é‡æ€»å’Œ</span></span><br><span class=\"line\">BigDecimal weightSum = studentList.stream().map(Student::getWeight).reduce(BigDecimal.ZERO, BigDecimal::add);</span><br><span class=\"line\"><span class=\"comment\">// å¹´é¾„æ€»å’Œ</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> ageSum = studentList.stream().mapToInt(Student::getAge).sum();</span><br></pre></td></tr></table></figure>\n\n<p><strong>5ã€æ ¹æ®å¹´é¾„æ­£åºä»å°åˆ°å¤§æ’åºï¼Œå¦‚æœå¹´é¾„å±æ€§ä¸ºnullï¼Œåˆ™æ’æœ«å°¾</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">List&lt;Student&gt; collect = studentList.stream().sorted(Comparator.comparing(Student::getAge, Comparator.nullsLast(Integer::compareTo))).collect(Collectors.toList());</span><br><span class=\"line\">System.out.println(collect);</span><br></pre></td></tr></table></figure>\n\n<p><strong>6ã€æ ¹æ®å§“ååˆ†ç»„ï¼Œå¹¶è®¡ç®—æ¯ä¸ªå§“åä¸‹çš„ä½“é‡å’Œå¹´é¾„æ€»å’Œ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ¯ç»„ä½“é‡æ€»å’Œ</span></span><br><span class=\"line\">Map&lt;String, BigDecimal&gt; groupObj1 = studentList.stream().collect(Collectors.groupingBy(Student::getName, Collectors.mapping(Student::getWeight, Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))));</span><br><span class=\"line\"><span class=\"comment\">// æ¯ç»„å¹´é¾„æ€»å’Œ</span></span><br><span class=\"line\">Map&lt;String, Integer&gt; groupObj2 = studentList.stream().collect(Collectors.groupingBy(Student::getName, Collectors.mapping(Student::getAge,Collectors.reducing(<span class=\"number\">0</span>, Integer::sum))));</span><br></pre></td></tr></table></figure>\n\n<p><strong>7ã€æ ¹æ®å¤šä¸ªæ¡ä»¶è¿›è¡Œåˆ†ç»„</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Map&lt;List&lt;Object&gt;, List&lt;Student&gt;&gt; groupObj = studentList.stream().collect(Collectors.groupingBy(e -&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Arrays.asList(e.getName(), e.getAge());</span><br><span class=\"line\">&#125;));</span><br><span class=\"line\"><span class=\"comment\">// PS: ä¹Ÿå¯ä¹Ÿä½¿ç”¨æ‹¼æ¥å†™æ³•ï¼Œä¸ç”¨listæ¥æ”¶</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>8ã€å°†é›†åˆä¸­çš„å§“åå±æ€§ä¸ºç»´åº¦è¿›è¡Œå»é‡å¹¶è¿”å›æ–°é›†åˆ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">ArrayList&lt;Student&gt; collect = studentList.stream().collect(Collectors.collectingAndThen(Collectors.toCollection(() -&gt; <span class=\"keyword\">new</span> TreeSet&lt;&gt;(Comparator.comparing(Student::getName))), ArrayList::<span class=\"keyword\">new</span>));</span><br></pre></td></tr></table></figure>\n\n<p><strong>9ã€å°†é›†åˆä¸­å¹´é¾„å½“ä½œkeyï¼Œå§“åå½“ä½œvalueé‡æ–°ç»„è£…è¿”å›Mapç±»å‹</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Map&lt;Integer, String&gt; collect = studentList.stream().collect(Collectors.toMap(Student::getAge, Student::getName));</span><br></pre></td></tr></table></figure>\n\n<p><strong>10ã€æ ¹æ®å§“ååˆ†ç»„ï¼Œä¸”å–å‡ºæ¯ç»„ä¸­ä½“é‡æœ€é‡çš„é‚£ä½å­¦ç”Ÿ</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Student&gt; groupMax = studentList.stream().collect(Collectors.toMap(Student::getName,</span><br><span class=\"line\">        Function.identity(), (c1, c2) -&gt; c1.getWeight().compareTo(c2.getWeight()) &gt; <span class=\"number\">0</span> ? c1 : c2));</span><br><span class=\"line\">System.out.println(groupMax);</span><br></pre></td></tr></table></figure>\n\n<p><strong>11ã€å°†å­¦ç”Ÿé›†åˆ(studentList)ä¸­çš„çˆ±å¥½likeListé›†åˆå±æ€§çš„æå–æˆä¸€ä¸ªå•ç‹¬listå¹¶å»é‡</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">List&lt;String&gt; likeList = studentList.stream().flatMap(x -&gt; x.getLikeList().stream()).distinct().collect(Collectors.toList());</span><br><span class=\"line\">System.out.println(likeList);</span><br></pre></td></tr></table></figure>\n\n<p><strong>12ã€æ ¹æ®å§“ååˆ†ç»„æ±‚åˆ†ç»„ä½“é‡ä¹‹å’Œï¼Œç„¶åå†æ ¹æ®valueå€’å™æ’åºmap</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\">Map&lt;String, BigDecimal&gt; groupObj = studentList.stream().collect(Collectors.groupingBy(Student::getName, Collectors.mapping(Student::getWeight, Collectors.reducing(BigDecimal.ZERO, BigDecimal::add))));</span><br><span class=\"line\"><span class=\"comment\">// æ’åºå‰å€¼</span></span><br><span class=\"line\">System.out.println(groupObj);</span><br><span class=\"line\"><span class=\"comment\">// å¼€å§‹æ’åº</span></span><br><span class=\"line\">Map&lt;String, BigDecimal&gt; result = <span class=\"keyword\">new</span> LinkedHashMap&lt;&gt;();</span><br><span class=\"line\">Comparator&lt;Map.Entry&lt;String, BigDecimal&gt;&gt; entryComparator = Map.Entry.comparingByValue();</span><br><span class=\"line\">entryComparator = entryComparator.reversed();</span><br><span class=\"line\">groupObj.entrySet().stream().sorted(entryComparator.reversed()).forEachOrdered(e -&gt; result.put(e.getKey(), e.getValue()));</span><br><span class=\"line\"><span class=\"comment\">// æ ¹æ®valueæ’åºåçš„å€¼</span></span><br><span class=\"line\">System.out.println(result);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"è®²åœ¨æœ«å°¾\"><a href=\"#è®²åœ¨æœ«å°¾\" class=\"headerlink\" title=\"è®²åœ¨æœ«å°¾\"></a>è®²åœ¨æœ«å°¾</h2><p>ä»¥ä¸Šå°±æ˜¯Jdk1.8ä¸­æ–°ç‰¹æ€§ä¹‹ <strong>Stream</strong> æµçš„ä»¥ä¸‹å¸¸ç”¨æ–¹æ³•ï¼ŒStreamæµåœ¨å®é™…å¼€å‘ä¸šåŠ¡ä¸­å…¶å®ç”¨çš„åœºæ™¯éå¸¸ä¹‹å¤šï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œå› æ­¤å†™ä¸‹è¿™ç¯‡åšæ–‡ï¼Œä»¥é˜²æ­¢é—å¿˜ï¼Œæˆ–è®¸å¯¹æˆ‘å¯¹ä½ å¯¹ä»–éƒ½æœ‰å¸®åŠ©ã€‚</p>\n","categories":["Java"],"tags":["Java"]}]